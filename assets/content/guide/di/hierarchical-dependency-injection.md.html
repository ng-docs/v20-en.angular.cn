<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">分层注入器</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/di/hierarchical-dependency-injection.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p>Angular 中的注入器有一些规则，你可以利用这些规则在你的应用中实现可注入对象的期望可见性。通过理解这些规则，你可以确定是在应用级别、组件中还是指令中声明提供者。</p>
<p>你使用 Angular 构建的应用可能会变得非常庞大，管理这种复杂性的一种方法是将应用拆分成一个定义良好的组件树。</p>
<p>你的页面中可能存在一些区域，它们以完全独立于应用其余部分的方式工作，并拥有自己本地的服务副本和所需的其他依赖项。这些应用区域使用的一些服务可能会与其他应用部分或组件树中更靠上的父组件共享，而其他依赖项则应该是私有的。</p>
<p>通过分层依赖注入，你可以隔离应用的各个部分，并为它们提供不与应用其余部分共享的私有依赖项，或者让父组件仅与其子组件共享某些依赖项，而不与组件树的其余部分共享，等等。分层依赖注入使你能够在应用的不同部分之间仅在需要时共享依赖项。</p>

  <h2 id="types-of-injector-hierarchies">
    <a href="#types-of-injector-hierarchies" class="docs-anchor" tabindex="-1" aria-label="Link to Types of injector hierarchies">注入器分层的类型</a>
  </h2>
  <p>Angular 有两个注入器分层：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">注入器分层</th>
<th align="left">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级</td>
<td align="left">使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 或 <code>ApplicationConfig</code> 中的 <code>providers</code> 数组在此层级中配置一个 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>。</td>
</tr>
<tr>
<td align="left"><code>ElementInjector</code> 分层结构</td>
<td align="left">在每个 DOM 元素上隐式创建。<code>ElementInjector</code> 默认是空的，除非您在 <a href="/api/core/Directive"><code>@Directive()</code></a> 或 <a href="/api/core/Component"><code>@Component()</code></a> 的 <code>providers</code> 属性中进行配置。</td>
</tr>

      </tbody>
    </table>
  </div>
  
    <div class="docs-callout docs-callout-helpful">
      <h3>基于 NgModule 的应用</h3>
      <p>对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用，您可以使用 <a href="/api/core/NgModule"><code>@NgModule()</code></a> 或 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 注解通过 <code>ModuleInjector</code> 层级来提供依赖项。</p>

    </div>
    
  <h3 id="environmentinjector">
    <a href="#environmentinjector" class="docs-anchor" tabindex="-1" aria-label="Link to <code>EnvironmentInjector</code>"><code>EnvironmentInjector</code></a>
  </h3>
  <p>可以使用以下两种方式之一来配置 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>：</p>

  <ul class="docs-list">
    <li>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 属性来引用 <code>root</code> 或 <code>platform</code></li>
<li><code>ApplicationConfig</code> 的 <code>providers</code> 数组</li>

  </ul>
  
    <div class="docs-callout docs-callout-helpful">
      <h3>摇树优化和 @Injectable()</h3>
      <p>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 属性比使用 <code>ApplicationConfig</code> 的 <code>providers</code> 数组更可取。通过 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code>，优化工具可以执行摇树优化，移除您的应用未使用的服务。这可以减小捆绑包的大小。</p>
<p>摇树优化对于库尤其有用，因为使用该库的应用可能不需要注入它。</p>

    </div>
    <p><a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 由 <code>ApplicationConfig.providers</code> 配置。</p>
<p>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 来提供服务，如下所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Injectable">Injectable</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providedIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'root'</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // &lt;--provides this service in the root EnvironmentInjector</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ItemService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 'telephone'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p><a href="/api/core/Injectable"><code>@Injectable()</code></a> 装饰器标识一个服务类。
<code>providedIn</code> 属性配置一个特定的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>，这里是 <code>root</code>，它使该服务在 <code>root</code> <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 中可用。</p>

  <h3 id="moduleinjector">
    <a href="#moduleinjector" class="docs-anchor" tabindex="-1" aria-label="Link to ModuleInjector">ModuleInjector</a>
  </h3>
  <p>对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用，可以通过以下两种方式之一来配置 ModuleInjector：</p>

  <ul class="docs-list">
    <li>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 属性来引用 <code>root</code> 或 <code>platform</code></li>
<li> <a href="/api/core/NgModule"><code>@NgModule()</code></a> 的 <code>providers</code> 数组</li>

  </ul>
  <p><code>ModuleInjector</code> 由 <a href="/api/core/NgModule#providers"><code>@NgModule.providers</code></a> 和 <a href="/api/core/NgModule#imports"><code>NgModule.imports</code></a> 属性配置。<code>ModuleInjector</code> 是通过递归地遵循 <a href="/api/core/NgModule#imports"><code>NgModule.imports</code></a> 可以到达的所有提供者数组的展平。</p>
<p>当惰性加载其他 <code>@NgModules</code> 时，会创建子 <code>ModuleInjector</code> 分层结构。</p>

  <h3 id="platform-injector">
    <a href="#platform-injector" class="docs-anchor" tabindex="-1" aria-label="Link to Platform injector">平台注入器</a>
  </h3>
  <p>在 <code>root</code> 之上还有两个注入器，一个是额外的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>，另一个是 <code>NullInjector()</code>。</p>
<p>考虑 Angular 如何使用 <code>main.ts</code> 中的以下内容引导应用：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/platform-browser/bootstrapApplication">bootstrapApplication</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AppComponent, appConfig);</span></span></code></pre>
  </div><p><a href="/api/platform-browser/bootstrapApplication"><code>bootstrapApplication()</code></a> 方法创建平台注入器的子注入器，该子注入器由 <code>ApplicationConfig</code> 实例配置。
这就是 <code>root</code> <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>。</p>
<p><a href="/api/platform-browser-dynamic/platformBrowserDynamic"><code>platformBrowserDynamic()</code></a> 方法创建一个由 <code>PlatformModule</code> 配置的注入器，其中包含平台特定的依赖项。
这允许多个应用程序共享平台配置。
例如，无论运行多少个应用程序，浏览器只有一个 URL 栏。
您可以通过使用 <a href="/api/platform-browser/platformBrowser"><code>platformBrowser()</code></a> 函数提供 <code>extraProviders</code> 来在平台级别配置其他平台特定的提供者。</p>
<p>层级中的下一个父注入器是 <code>NullInjector()</code>，它是树的顶端。
如果您一直向上追溯到在 <code>NullInjector()</code> 中查找服务，您将收到一个错误，除非您使用了 <a href="/api/core/Optional"><code>@Optional()</code></a>，因为最终，所有内容都结束于 <code>NullInjector()</code>，它会返回一个错误，或者在 <a href="/api/core/Optional"><code>@Optional()</code></a> 的情况下，返回 <code>null</code>。
有关 <a href="/api/core/Optional"><code>@Optional()</code></a> 的更多信息，请参阅本指南的 <a href="#optional"></a><a href="/api/core/Optional"><code>@Optional()</code></a> 部分。</p>
<p>下图表示 <code>root</code> <code>EnvironmentInjector</code> 与其父注入器之间的关系，如前几段所述。</p>
<svg aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0 0 232 500" style="max-width: 232px;" class="statediagram" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram defs #statediagram-barbEnd{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram g.stateGroup text{fill:hsl(40.5882352941, 60%, 83.3333333333%);stroke:none;font-size:10px;}#mermaid-generated-diagram g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#mermaid-generated-diagram g.stateGroup .state-title{font-weight:bolder;fill:#333;}#mermaid-generated-diagram g.stateGroup rect{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);}#mermaid-generated-diagram g.stateGroup line{stroke:#0b0b0b;stroke-width:1;}#mermaid-generated-diagram .transition{stroke:#0b0b0b;stroke-width:1;fill:none;}#mermaid-generated-diagram .stateGroup .composit{fill:#f4f4f4;border-bottom:1px;}#mermaid-generated-diagram .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-generated-diagram .state-note{stroke:hsl(52.6829268293, 60%, 73.9215686275%);fill:#fff5ad;}#mermaid-generated-diagram .state-note text{fill:#333;stroke:none;font-size:10px;}#mermaid-generated-diagram .stateLabel .box{stroke:none;stroke-width:0;fill:#fff4dd;opacity:0.5;}#mermaid-generated-diagram .edgeLabel .label rect{fill:#fff4dd;opacity:0.5;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel .label text{fill:#333;}#mermaid-generated-diagram .label div .edgeLabel{color:#333;}#mermaid-generated-diagram .stateLabel text{fill:#333;font-size:10px;font-weight:bold;}#mermaid-generated-diagram .node circle.state-start{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .node .fork-join{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .node circle.state-end{fill:hsl(40.5882352941, 60%, 83.3333333333%);stroke:#f4f4f4;stroke-width:1.5;}#mermaid-generated-diagram .end-state-inner{fill:#f4f4f4;stroke-width:1.5;}#mermaid-generated-diagram .node rect{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .node polygon{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram #statediagram-barbEnd{fill:#0b0b0b;}#mermaid-generated-diagram .statediagram-cluster rect{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster-label,#mermaid-generated-diagram .nodeLabel{color:#333;}#mermaid-generated-diagram .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-generated-diagram .statediagram-state .divider{stroke:hsl(40.5882352941, 60%, 83.3333333333%);}#mermaid-generated-diagram .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-generated-diagram .statediagram-cluster.statediagram-cluster .inner{fill:#f4f4f4;}#mermaid-generated-diagram .statediagram-cluster.statediagram-cluster-alt .inner{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-generated-diagram .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-generated-diagram .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .note-edge{stroke-dasharray:5;}#mermaid-generated-diagram .statediagram-note rect{fill:#fff5ad;stroke:hsl(52.6829268293, 60%, 73.9215686275%);stroke-width:1px;rx:0;ry:0;}#mermaid-generated-diagram .statediagram-note rect{fill:#fff5ad;stroke:hsl(52.6829268293, 60%, 73.9215686275%);stroke-width:1px;rx:0;ry:0;}#mermaid-generated-diagram .statediagram-note text{fill:#333;}#mermaid-generated-diagram .statediagram-note .nodeLabel{color:#333;}#mermaid-generated-diagram .statediagram .edgeLabel{color:red;}#mermaid-generated-diagram #dependencyStart,#mermaid-generated-diagram #dependencyEnd{fill:#0b0b0b;stroke:#0b0b0b;stroke-width:1;}#mermaid-generated-diagram .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="14" markerWidth="20" refY="7" refX="19" id="mermaid-generated-diagram_stateDiagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge0" d="M116.5,356.5L116.417,352.25C116.333,348,116.167,339.5,116.167,331.167C116.167,322.833,116.333,314.667,116.417,310.583L116.5,306.5"></path><path marker-end="url(#mermaid-generated-diagram_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge1" d="M116.5,170.5L116.417,166.25C116.333,162,116.167,153.5,116.167,145.167C116.167,136.833,116.333,128.667,116.417,124.583L116.5,120.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(116, 238)" id="state-elementInjector-1" class="node  statediagram-state"><g class="basic label-container outer-path"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-103 -68 C-60.96208014497011 -68, -18.924160289940218 -68, 103 -68 C103 -68, 103 -68, 103 -68 C103.14529728338056 -67.99399045990666, 103.29059456676111 -67.98798091981331, 103.41289672736166 -67.98292246503335 C103.49978668349465 -67.97209164329648, 103.58667663962763 -67.96126082155959, 103.82297295140367 -67.93180651701361 C103.95099348963195 -67.90496343294286, 104.07901402786023 -67.8781203488721, 104.227427435704 -67.84700132969665 C104.38215132953697 -67.8009380307247, 104.53687522336993 -67.75487473175274, 104.62349734602341 -67.72908620850318 C104.72493332234941 -67.6895057677182, 104.8263692986754 -67.64992532693323, 105.00847712326485 -67.57886663327528 C105.1401721833922 -67.51448484144767, 105.27186724351952 -67.45010304962005, 105.37973696518537 -67.39736875603245 C105.48415033858242 -67.3351518900311, 105.58856371197949 -67.27293502402974, 105.73474079061214 -67.18583239131264 C105.80964367164289 -67.13235276217497, 105.88454655267364 -67.0788731330373, 106.07106356344833 -66.94570254698196 C106.17902224598234 -66.85426620706886, 106.28698092851634 -66.76282986715576, 106.3864078581287 -66.67861955336566 C106.49720260137792 -66.56782481011645, 106.60799734462712 -66.45703006686725, 106.67861955336566 -66.3864078581287 C106.76386835637663 -66.28575478661018, 106.84911715938762 -66.18510171509166, 106.94570254698196 -66.07106356344833 C107.03627184533661 -65.94421336854079, 107.12684114369128 -65.81736317363323, 107.18583239131264 -65.73474079061214 C107.25964617337176 -65.61086528090999, 107.33345995543088 -65.48698977120783, 107.39736875603245 -65.37973696518537 C107.46592057455696 -65.23951197911171, 107.53447239308147 -65.09928699303805, 107.57886663327528 -65.00847712326485 C107.63399815959994 -64.86718713032451, 107.68912968592461 -64.72589713738418, 107.72908620850318 -64.62349734602341 C107.7655569161071 -64.5009943986171, 107.80202762371104 -64.37849145121076, 107.84700132969665 -64.227427435704 C107.87932897885455 -64.07324980715956, 107.91165662801244 -63.91907217861511, 107.93180651701361 -63.82297295140367 C107.94457579456721 -63.72053178918744, 107.95734507212082 -63.6180906269712, 107.98292246503335 -63.41289672736166 C107.98877264481237 -63.27145242114586, 107.99462282459139 -63.13000811493005, 108 -63 C108 -63, 108 -63, 108 -63 C108 -29.378414492379605, 108 4.24317101524079, 108 63 C108 63, 108 63, 108 63 C107.99619215394893 63.092065229311814, 107.99238430789785 63.18413045862362, 107.98292246503335 63.41289672736166 C107.96859953133901 63.52780205131868, 107.95427659764468 63.6427073752757, 107.93180651701361 63.82297295140367 C107.90316300148213 63.959580141003244, 107.87451948595064 64.09618733060282, 107.84700132969665 64.227427435704 C107.79994988090718 64.38547046626555, 107.75289843211769 64.54351349682707, 107.72908620850318 64.62349734602341 C107.6916762955277 64.71937073630608, 107.65426638255222 64.81524412658875, 107.57886663327528 65.00847712326485 C107.53369503428723 65.1008771058672, 107.48852343529919 65.19327708846953, 107.39736875603245 65.37973696518537 C107.31401964537062 65.51961482103329, 107.23067053470879 65.65949267688119, 107.18583239131264 65.73474079061214 C107.12862413436493 65.81486593981802, 107.07141587741721 65.89499108902392, 106.94570254698196 66.07106356344833 C106.84496864435165 66.18999985753896, 106.74423474172136 66.3089361516296, 106.67861955336566 66.3864078581287 C106.60569871352506 66.45932869796931, 106.53277787368445 66.53224953780992, 106.3864078581287 66.67861955336566 C106.2619628895195 66.78401906531917, 106.1375179209103 66.88941857727266, 106.07106356344833 66.94570254698196 C105.93940420772626 67.03970552016041, 105.80774485200418 67.13370849333884, 105.73474079061214 67.18583239131264 C105.62532140849763 67.25103219104597, 105.51590202638313 67.3162319907793, 105.37973696518537 67.39736875603245 C105.23324835615988 67.46898267323084, 105.08675974713438 67.54059659042923, 105.00847712326485 67.57886663327528 C104.85630340157837 67.63824500373512, 104.7041296798919 67.69762337419496, 104.62349734602341 67.72908620850318 C104.52149157204947 67.759454643184, 104.41948579807551 67.78982307786481, 104.227427435704 67.84700132969665 C104.07611677030596 67.878727839898, 103.92480610490793 67.91045435009934, 103.82297295140367 67.93180651701361 C103.7122525134316 67.94560780521394, 103.60153207545952 67.95940909341425, 103.41289672736166 67.98292246503335 C103.24800457411718 67.98974245493919, 103.08311242087268 67.99656244484503, 103 68 C103 68, 103 68, 103 68 C42.41656395228242 68, -18.166872095435167 68, -103 68 C-103 68, -103 68, -103 68 C-103.1224115962639 67.99493701892753, -103.24482319252779 67.98987403785505, -103.41289672736166 67.98292246503335 C-103.53282474468449 67.96797345326388, -103.65275276200731 67.9530244414944, -103.82297295140367 67.93180651701361 C-103.9098694624504 67.91358623467639, -103.99676597349713 67.89536595233916, -104.227427435704 67.84700132969665 C-104.33815275685089 67.81403697334933, -104.44887807799778 67.78107261700201, -104.62349734602341 67.72908620850318 C-104.7648036382737 67.67394832216803, -104.906109930524 67.61881043583288, -105.00847712326485 67.57886663327528 C-105.14411777415853 67.51255595965735, -105.2797584250522 67.44624528603941, -105.37973696518537 67.39736875603245 C-105.48023737537346 67.33748351001157, -105.58073778556155 67.27759826399068, -105.73474079061214 67.18583239131264 C-105.84493651481334 67.10715415648723, -105.95513223901455 67.02847592166181, -106.07106356344833 66.94570254698196 C-106.19354240670454 66.84196825825896, -106.31602124996074 66.73823396953594, -106.3864078581287 66.67861955336566 C-106.48395637493503 66.58107103655934, -106.58150489174137 66.483522519753, -106.67861955336566 66.3864078581287 C-106.75915107942298 66.29132446498478, -106.83968260548028 66.19624107184084, -106.94570254698196 66.07106356344833 C-107.00787900691236 65.98398001301662, -107.07005546684276 65.8968964625849, -107.18583239131264 65.73474079061214 C-107.25158900073374 65.6243869612717, -107.31734561015485 65.51403313193127, -107.39736875603245 65.37973696518537 C-107.43919487715951 65.2941802669271, -107.48102099828657 65.20862356866884, -107.57886663327528 65.00847712326485 C-107.63743397392177 64.85838189285629, -107.69600131456825 64.70828666244772, -107.72908620850318 64.62349734602341 C-107.77370799369028 64.47361541164155, -107.8183297788774 64.32373347725967, -107.84700132969665 64.227427435704 C-107.87422214981908 64.09760539163851, -107.90144296994148 63.967783347573025, -107.93180651701361 63.82297295140367 C-107.94988709619517 63.677922024510934, -107.96796767537673 63.532871097618205, -107.98292246503335 63.41289672736166 C-107.98946335286195 63.25475264018872, -107.99600424069054 63.09660855301578, -108 63 C-108 63, -108 63, -108 63 C-108 27.643688446942633, -108 -7.712623106114734, -108 -63 C-108 -63, -108 -63, -108 -63 C-107.99511224678155 -63.118174977360326, -107.99022449356308 -63.23634995472065, -107.98292246503335 -63.41289672736166 C-107.97174312381664 -63.50258267100607, -107.96056378259992 -63.59226861465047, -107.93180651701361 -63.82297295140367 C-107.90728013266212 -63.939944642033375, -107.88275374831063 -64.05691633266308, -107.84700132969665 -64.22742743570399 C-107.80917726329616 -64.3544762351754, -107.77135319689567 -64.48152503464681, -107.72908620850318 -64.62349734602341 C-107.6753077674992 -64.76131967847702, -107.62152932649525 -64.89914201093062, -107.57886663327528 -65.00847712326484 C-107.5413945112038 -65.08512757410217, -107.50392238913234 -65.16177802493951, -107.39736875603245 -65.37973696518537 C-107.34968002468472 -65.45976898275653, -107.301991293337 -65.53980100032767, -107.18583239131264 -65.73474079061214 C-107.12964787332807 -65.81343210418753, -107.0734633553435 -65.89212341776293, -106.94570254698196 -66.07106356344833 C-106.84230126824455 -66.19314922255751, -106.73889998950715 -66.31523488166668, -106.67861955336566 -66.3864078581287 C-106.61612378954132 -66.44890362195305, -106.55362802571698 -66.5113993857774, -106.3864078581287 -66.67861955336566 C-106.3010772539095 -66.75089088855837, -106.2157466496903 -66.82316222375108, -106.07106356344833 -66.94570254698196 C-105.97834989963269 -67.01189883060448, -105.88563623581705 -67.078095114227, -105.73474079061214 -67.18583239131264 C-105.62540736618688 -67.25098097138071, -105.51607394176162 -67.31612955144878, -105.37973696518537 -67.39736875603245 C-105.25456963214273 -67.45855933654305, -105.12940229910008 -67.51974991705363, -105.00847712326485 -67.57886663327528 C-104.90237447055031 -67.62026801683766, -104.79627181783577 -67.66166940040003, -104.62349734602341 -67.72908620850318 C-104.4866792885144 -67.76981870903477, -104.34986123100538 -67.81055120956636, -104.227427435704 -67.84700132969665 C-104.09011190107401 -67.87579336956233, -103.952796366444 -67.904585409428, -103.82297295140367 -67.93180651701361 C-103.67102605092036 -67.9507466784068, -103.51907915043705 -67.96968683979999, -103.41289672736167 -67.98292246503335 C-103.31460968430494 -67.98698764720444, -103.21632264124821 -67.99105282937552, -103 -68 C-103 -68, -103 -68, -103 -68"></path><path style="" stroke-dasharray="0 0" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-103 -68 C-38.95500346838416 -68, 25.089993063231674 -68, 103 -68 M-103 -68 C-45.24408787945949 -68, 12.511824241081015 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103.10963900601811 -67.99546529716778, 103.21927801203624 -67.99093059433555, 103.41289672736166 -67.98292246503335 M103 -68 C103.13203702923619 -67.99453890807496, 103.26407405847236 -67.9890778161499, 103.41289672736166 -67.98292246503335 M103.41289672736166 -67.98292246503335 C103.52455022857234 -67.96900487062163, 103.63620372978302 -67.95508727620991, 103.82297295140367 -67.93180651701361 M103.41289672736166 -67.98292246503335 C103.55583225063819 -67.96510557063758, 103.69876777391472 -67.94728867624178, 103.82297295140367 -67.93180651701361 M103.82297295140367 -67.93180651701361 C103.95821944975448 -67.90344830843436, 104.09346594810529 -67.8750900998551, 104.227427435704 -67.84700132969665 M103.82297295140367 -67.93180651701361 C103.92805639908006 -67.90977283507898, 104.03313984675646 -67.88773915314435, 104.227427435704 -67.84700132969665 M104.227427435704 -67.84700132969665 C104.33417520185967 -67.81522114277655, 104.44092296801531 -67.78344095585646, 104.62349734602341 -67.72908620850318 M104.227427435704 -67.84700132969665 C104.36561079832002 -67.80586236022368, 104.50379416093604 -67.76472339075072, 104.62349734602341 -67.72908620850318 M104.62349734602341 -67.72908620850318 C104.71619785492925 -67.69291435768278, 104.80889836383508 -67.6567425068624, 105.00847712326485 -67.57886663327528 M104.62349734602341 -67.72908620850318 C104.70071951300527 -67.6989540254433, 104.77794167998712 -67.66882184238341, 105.00847712326485 -67.57886663327528 M105.00847712326485 -67.57886663327528 C105.10228564538795 -67.53300644127457, 105.19609416751106 -67.48714624927385, 105.37973696518537 -67.39736875603245 M105.00847712326485 -67.57886663327528 C105.1303376704984 -67.5192926418408, 105.25219821773196 -67.45971865040632, 105.37973696518537 -67.39736875603245 M105.37973696518537 -67.39736875603245 C105.47129457711114 -67.34281226113858, 105.56285218903689 -67.2882557662447, 105.73474079061214 -67.18583239131264 M105.37973696518537 -67.39736875603245 C105.48398414476544 -67.33525092005097, 105.58823132434551 -67.27313308406947, 105.73474079061214 -67.18583239131264 M105.73474079061214 -67.18583239131264 C105.86596230167923 -67.09214203320916, 105.99718381274634 -66.99845167510568, 106.07106356344833 -66.94570254698196 M105.73474079061214 -67.18583239131264 C105.8137936193934 -67.12938975643229, 105.89284644817465 -67.07294712155193, 106.07106356344833 -66.94570254698196 M106.07106356344833 -66.94570254698196 C106.16834200830311 -66.8633119069595, 106.26562045315788 -66.78092126693701, 106.3864078581287 -66.67861955336566 M106.07106356344833 -66.94570254698196 C106.13443448479308 -66.89203011444872, 106.19780540613783 -66.83835768191545, 106.3864078581287 -66.67861955336566 M106.3864078581287 -66.67861955336566 C106.48769642336387 -66.5773309881305, 106.58898498859904 -66.47604242289533, 106.67861955336566 -66.3864078581287 M106.3864078581287 -66.67861955336566 C106.4694555432423 -66.59557186825207, 106.55250322835589 -66.51252418313848, 106.67861955336566 -66.3864078581287 M106.67861955336566 -66.3864078581287 C106.75563527950808 -66.29547556210028, 106.83265100565049 -66.20454326607185, 106.94570254698196 -66.07106356344833 M106.67861955336566 -66.3864078581287 C106.78004614828012 -66.26665370380363, 106.88147274319458 -66.14689954947855, 106.94570254698196 -66.07106356344833 M106.94570254698196 -66.07106356344833 C107.03354379197314 -65.94803424500954, 107.12138503696431 -65.82500492657076, 107.18583239131264 -65.73474079061214 M106.94570254698196 -66.07106356344833 C107.00767846943168 -65.98426088323393, 107.0696543918814 -65.89745820301954, 107.18583239131264 -65.73474079061214 M107.18583239131264 -65.73474079061214 C107.23900122527235 -65.6455119742137, 107.29217005923205 -65.55628315781529, 107.39736875603245 -65.37973696518537 M107.18583239131264 -65.73474079061214 C107.25772310383022 -65.6140926080162, 107.3296138163478 -65.49344442542026, 107.39736875603245 -65.37973696518537 M107.39736875603245 -65.37973696518537 C107.44155745145507 -65.28934754396187, 107.48574614687769 -65.19895812273836, 107.57886663327528 -65.00847712326485 M107.39736875603245 -65.37973696518537 C107.46777925974196 -65.23570997779665, 107.53818976345146 -65.09168299040792, 107.57886663327528 -65.00847712326485 M107.57886663327528 -65.00847712326485 C107.61218085587724 -64.92310008783642, 107.64549507847921 -64.83772305240798, 107.72908620850318 -64.62349734602341 M107.57886663327528 -65.00847712326485 C107.62377461827892 -64.89338782124258, 107.66868260328255 -64.77829851922033, 107.72908620850318 -64.62349734602341 M107.72908620850318 -64.62349734602341 C107.77145921357109 -64.48116893091134, 107.81383221863902 -64.33884051579926, 107.84700132969665 -64.227427435704 M107.72908620850318 -64.62349734602341 C107.76783085715813 -64.49335636526703, 107.80657550581309 -64.36321538451065, 107.84700132969665 -64.227427435704 M107.84700132969665 -64.227427435704 C107.87415508906408 -64.09792521904453, 107.90130884843151 -63.96842300238506, 107.93180651701361 -63.82297295140367 M107.84700132969665 -64.227427435704 C107.87517293071569 -64.09307090961693, 107.90334453173473 -63.95871438352985, 107.93180651701361 -63.82297295140367 M107.93180651701361 -63.82297295140367 C107.94207648945668 -63.74058239261285, 107.95234646189975 -63.65819183382203, 107.98292246503335 -63.41289672736166 M107.93180651701361 -63.82297295140367 C107.94892972075286 -63.68560254148423, 107.9660529244921 -63.54823213156479, 107.98292246503335 -63.41289672736166 M107.98292246503335 -63.41289672736166 C107.9895050426299 -63.2537446745315, 107.99608762022646 -63.09459262170133, 108 -63 M107.98292246503335 -63.41289672736166 C107.9865019924546 -63.32635173356577, 107.99008151987586 -63.23980673976988, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -26.343020915927035, 108 10.31395816814593, 108 63 M108 -63 C108 -17.389383159285934, 108 28.22123368142813, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C107.99564030809532 63.10540763191329, 107.99128061619062 63.21081526382658, 107.98292246503335 63.41289672736166 M108 63 C107.99589414430487 63.09927043820139, 107.99178828860974 63.19854087640277, 107.98292246503335 63.41289672736166 M107.98292246503335 63.41289672736166 C107.96835850162036 63.52973570531003, 107.95379453820736 63.6465746832584, 107.93180651701361 63.82297295140367 M107.98292246503335 63.41289672736166 C107.97250236112771 63.49649171149654, 107.96208225722208 63.580086695631415, 107.93180651701361 63.82297295140367 M107.93180651701361 63.82297295140367 C107.90455710388656 63.95293136176122, 107.87730769075952 64.08288977211878, 107.84700132969665 64.227427435704 M107.93180651701361 63.82297295140367 C107.89989813679782 63.97515099467364, 107.86798975658202 64.12732903794361, 107.84700132969665 64.227427435704 M107.84700132969665 64.227427435704 C107.81526364958049 64.3340324240221, 107.7835259694643 64.4406374123402, 107.72908620850318 64.62349734602341 M107.84700132969665 64.227427435704 C107.80981629992974 64.35232974896068, 107.77263127016282 64.47723206221735, 107.72908620850318 64.62349734602341 M107.72908620850318 64.62349734602341 C107.68439556273316 64.7380296553261, 107.63970491696313 64.85256196462879, 107.57886663327528 65.00847712326485 M107.72908620850318 64.62349734602341 C107.67087879267241 64.7726701681828, 107.61267137684163 64.9218429903422, 107.57886663327528 65.00847712326485 M107.57886663327528 65.00847712326485 C107.52143897319306 65.12594727954368, 107.46401131311084 65.24341743582251, 107.39736875603245 65.37973696518537 M107.57886663327528 65.00847712326485 C107.52571765291414 65.11719510028402, 107.472568672553 65.22591307730319, 107.39736875603245 65.37973696518537 M107.39736875603245 65.37973696518537 C107.3409203460565 65.47446962028825, 107.28447193608056 65.56920227539113, 107.18583239131264 65.73474079061214 M107.39736875603245 65.37973696518537 C107.32716269746588 65.49755793366178, 107.25695663889933 65.61537890213819, 107.18583239131264 65.73474079061214 M107.18583239131264 65.73474079061214 C107.10292269668038 65.85086304301873, 107.02001300204812 65.96698529542535, 106.94570254698196 66.07106356344833 M107.18583239131264 65.73474079061214 C107.10904474130623 65.8422885860214, 107.03225709129981 65.94983638143064, 106.94570254698196 66.07106356344833 M106.94570254698196 66.07106356344833 C106.89031059906917 66.13646471276533, 106.83491865115639 66.20186586208233, 106.67861955336566 66.3864078581287 M106.94570254698196 66.07106356344833 C106.86817324994583 66.16260223148517, 106.7906439529097 66.25414089952199, 106.67861955336566 66.3864078581287 M106.67861955336566 66.3864078581287 C106.6101775714754 66.45484984001897, 106.54173558958516 66.52329182190921, 106.3864078581287 66.67861955336566 M106.67861955336566 66.3864078581287 C106.61038642344614 66.45464098804823, 106.54215329352662 66.52287411796775, 106.3864078581287 66.67861955336566 M106.3864078581287 66.67861955336566 C106.29390673767561 66.75696400601706, 106.20140561722253 66.83530845866845, 106.07106356344833 66.94570254698196 M106.3864078581287 66.67861955336566 C106.30603533717769 66.74669160623678, 106.22566281622667 66.81476365910788, 106.07106356344833 66.94570254698196 M106.07106356344833 66.94570254698196 C105.95837805781383 67.02615845158262, 105.84569255217932 67.10661435618329, 105.73474079061214 67.18583239131264 M106.07106356344833 66.94570254698196 C105.97035897616296 67.01760424029965, 105.86965438887759 67.08950593361733, 105.73474079061214 67.18583239131264 M105.73474079061214 67.18583239131264 C105.62757034520284 67.24969211564105, 105.52039989979356 67.31355183996946, 105.37973696518537 67.39736875603245 M105.73474079061214 67.18583239131264 C105.6616596257087 67.2293793134749, 105.58857846080525 67.27292623563716, 105.37973696518537 67.39736875603245 M105.37973696518537 67.39736875603245 C105.28133185061415 67.445476085153, 105.18292673604294 67.49358341427354, 105.00847712326485 67.57886663327528 M105.37973696518537 67.39736875603245 C105.30410138450549 67.43434473831594, 105.22846580382561 67.47132072059945, 105.00847712326485 67.57886663327528 M105.00847712326485 67.57886663327528 C104.87081511176125 67.63258251685043, 104.73315310025764 67.68629840042558, 104.62349734602341 67.72908620850318 M105.00847712326485 67.57886663327528 C104.91194772472669 67.61653252146637, 104.81541832618852 67.65419840965747, 104.62349734602341 67.72908620850318 M104.62349734602341 67.72908620850318 C104.50084796959953 67.76560050991442, 104.37819859317564 67.80211481132567, 104.227427435704 67.84700132969665 M104.62349734602341 67.72908620850318 C104.49867242318706 67.7662481981437, 104.3738475003507 67.80341018778424, 104.227427435704 67.84700132969665 M104.227427435704 67.84700132969665 C104.08780597143509 67.87627687216289, 103.94818450716618 67.90555241462913, 103.82297295140367 67.93180651701361 M104.227427435704 67.84700132969665 C104.10605951577344 67.87244950639764, 103.98469159584289 67.89789768309862, 103.82297295140367 67.93180651701361 M103.82297295140367 67.93180651701361 C103.71410485901997 67.94537691057714, 103.60523676663625 67.95894730414066, 103.41289672736166 67.98292246503335 M103.82297295140367 67.93180651701361 C103.70462751998664 67.94655825965565, 103.5862820885696 67.9613100022977, 103.41289672736166 67.98292246503335 M103.41289672736166 67.98292246503335 C103.31528268044022 67.98695981187838, 103.2176686335188 67.99099715872342, 103 68 M103.41289672736166 67.98292246503335 C103.26265578303492 67.98913647645591, 103.11241483870818 67.99535048787847, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C45.796946209367746 68, -11.406107581264507 68, -103 68 M103 68 C37.44486087726219 68, -28.110278245475627 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103.13587264272714 67.99438026592749, -103.27174528545427 67.98876053185498, -103.41289672736166 67.98292246503335 M-103 68 C-103.159455702918 67.99340486334292, -103.31891140583599 67.98680972668583, -103.41289672736166 67.98292246503335 M-103.41289672736166 67.98292246503335 C-103.56019957615922 67.9645611840791, -103.70750242495677 67.94619990312484, -103.82297295140367 67.93180651701361 M-103.41289672736166 67.98292246503335 C-103.50176157243385 67.97184547364692, -103.59062641750604 67.96076848226049, -103.82297295140367 67.93180651701361 M-103.82297295140367 67.93180651701361 C-103.95482612268239 67.90415981430003, -104.08667929396113 67.87651311158645, -104.227427435704 67.84700132969665 M-103.82297295140367 67.93180651701361 C-103.95789009316134 67.90351736724978, -104.092807234919 67.87522821748594, -104.227427435704 67.84700132969665 M-104.227427435704 67.84700132969665 C-104.3209129499281 67.81916948624588, -104.4143984641522 67.79133764279511, -104.62349734602341 67.72908620850318 M-104.227427435704 67.84700132969665 C-104.32904008675288 67.8167499327815, -104.43065273780175 67.78649853586636, -104.62349734602341 67.72908620850318 M-104.62349734602341 67.72908620850318 C-104.70397712774825 67.69768290022614, -104.78445690947306 67.6662795919491, -105.00847712326485 67.57886663327528 M-104.62349734602341 67.72908620850318 C-104.73968503564035 67.68374963133013, -104.85587272525729 67.6384130541571, -105.00847712326485 67.57886663327528 M-105.00847712326485 67.57886663327528 C-105.0877930282863 67.5400914500545, -105.16710893330774 67.50131626683371, -105.37973696518537 67.39736875603245 M-105.00847712326485 67.57886663327528 C-105.10387334006394 67.53223026464337, -105.19926955686303 67.48559389601145, -105.37973696518537 67.39736875603245 M-105.37973696518537 67.39736875603245 C-105.4570018948334 67.35132885119924, -105.53426682448142 67.30528894636602, -105.73474079061214 67.18583239131264 M-105.37973696518537 67.39736875603245 C-105.45183811362955 67.35440579692724, -105.52393926207371 67.31144283782203, -105.73474079061214 67.18583239131264 M-105.73474079061214 67.18583239131264 C-105.83851206421971 67.11174112604611, -105.94228333782728 67.03764986077958, -106.07106356344833 66.94570254698196 M-105.73474079061214 67.18583239131264 C-105.85113276255444 67.10273012063334, -105.96752473449676 67.01962784995403, -106.07106356344833 66.94570254698196 M-106.07106356344833 66.94570254698196 C-106.16568258146351 66.86556432659607, -106.2603015994787 66.78542610621018, -106.3864078581287 66.67861955336566 M-106.07106356344833 66.94570254698196 C-106.1382414710699 66.88880576154739, -106.20541937869146 66.83190897611281, -106.3864078581287 66.67861955336566 M-106.3864078581287 66.67861955336566 C-106.45289198387276 66.61213542762161, -106.51937610961681 66.54565130187756, -106.67861955336566 66.3864078581287 M-106.3864078581287 66.67861955336566 C-106.50073448825307 66.5642929232413, -106.61506111837744 66.44996629311693, -106.67861955336566 66.3864078581287 M-106.67861955336566 66.3864078581287 C-106.75767548634585 66.29306669443878, -106.83673141932604 66.19972553074885, -106.94570254698196 66.07106356344833 M-106.67861955336566 66.3864078581287 C-106.74073594033253 66.3130671786233, -106.80285232729939 66.23972649911788, -106.94570254698196 66.07106356344833 M-106.94570254698196 66.07106356344833 C-107.01851719056626 65.96908030975652, -107.09133183415057 65.86709705606471, -107.18583239131264 65.73474079061214 M-106.94570254698196 66.07106356344833 C-107.0025580152968 65.99143252546617, -107.05941348361165 65.911801487484, -107.18583239131264 65.73474079061214 M-107.18583239131264 65.73474079061214 C-107.22885059812266 65.66254692455612, -107.27186880493268 65.59035305850011, -107.39736875603245 65.37973696518537 M-107.18583239131264 65.73474079061214 C-107.2496607506428 65.62762298246157, -107.31348910997298 65.52050517431101, -107.39736875603245 65.37973696518537 M-107.39736875603245 65.37973696518537 C-107.4654644788641 65.24044493776337, -107.53356020169575 65.10115291034138, -107.57886663327528 65.00847712326485 M-107.39736875603245 65.37973696518537 C-107.43580955214739 65.30110505992162, -107.47425034826233 65.22247315465786, -107.57886663327528 65.00847712326485 M-107.57886663327528 65.00847712326485 C-107.63768844738905 64.85772973325193, -107.69651026150281 64.706982343239, -107.72908620850318 64.62349734602341 M-107.57886663327528 65.00847712326485 C-107.62464299419047 64.89116236451044, -107.67041935510565 64.77384760575603, -107.72908620850318 64.62349734602341 M-107.72908620850318 64.62349734602341 C-107.75660203611152 64.53107331030267, -107.78411786371986 64.43864927458195, -107.84700132969665 64.227427435704 M-107.72908620850318 64.62349734602341 C-107.75881950312029 64.5236249699167, -107.78855279773742 64.42375259380998, -107.84700132969665 64.227427435704 M-107.84700132969665 64.227427435704 C-107.86877531068772 64.12358255862125, -107.8905492916788 64.0197376815385, -107.93180651701361 63.82297295140367 M-107.84700132969665 64.227427435704 C-107.86467784504235 64.14312426835588, -107.88235436038805 64.05882110100775, -107.93180651701361 63.82297295140367 M-107.93180651701361 63.82297295140367 C-107.94278056105765 63.7349339984274, -107.95375460510168 63.646895045451124, -107.98292246503335 63.41289672736166 M-107.93180651701361 63.82297295140367 C-107.9514055321657 63.665740415573474, -107.97100454731778 63.50850787974328, -107.98292246503335 63.41289672736166 M-107.98292246503335 63.41289672736166 C-107.98792500675057 63.29194641998034, -107.9929275484678 63.17099611259903, -108 63 M-107.98292246503335 63.41289672736166 C-107.98763398547925 63.298982665595254, -107.99234550592514 63.18506860382884, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 32.44611146888563, -108 1.8922229377712583, -108 -63 M-108 63 C-108 23.148011667295528, -108 -16.703976665408945, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-107.99376736756874 -63.15069115880837, -107.98753473513749 -63.301382317616735, -107.98292246503335 -63.41289672736166 M-108 -63 C-107.9949063046052 -63.12315420011137, -107.98981260921039 -63.246308400222745, -107.98292246503335 -63.41289672736166 M-107.98292246503335 -63.41289672736166 C-107.972436146942 -63.49702291289863, -107.96194982885065 -63.58114909843559, -107.93180651701361 -63.82297295140367 M-107.98292246503335 -63.41289672736166 C-107.97102413321262 -63.50835075246471, -107.9591258013919 -63.60380477756775, -107.93180651701361 -63.82297295140367 M-107.93180651701361 -63.82297295140367 C-107.90409556063777 -63.95513256244926, -107.87638460426194 -64.08729217349484, -107.84700132969665 -64.22742743570399 M-107.93180651701361 -63.82297295140367 C-107.90960401476988 -63.92886154005333, -107.88740151252615 -64.034750128703, -107.84700132969665 -64.22742743570399 M-107.84700132969665 -64.22742743570399 C-107.80755864565758 -64.35991307598484, -107.76811596161852 -64.49239871626568, -107.72908620850318 -64.62349734602341 M-107.84700132969665 -64.22742743570399 C-107.8147376978024 -64.33579906490301, -107.78247406590813 -64.44417069410204, -107.72908620850318 -64.62349734602341 M-107.72908620850318 -64.62349734602341 C-107.678310279486 -64.75362489972343, -107.6275343504688 -64.88375245342345, -107.57886663327528 -65.00847712326484 M-107.72908620850318 -64.62349734602341 C-107.67581459286862 -64.76002079637382, -107.62254297723405 -64.89654424672423, -107.57886663327528 -65.00847712326484 M-107.57886663327528 -65.00847712326484 C-107.52332591791283 -65.12208747242626, -107.46778520255039 -65.23569782158769, -107.39736875603245 -65.37973696518537 M-107.57886663327528 -65.00847712326484 C-107.51536923792122 -65.13836312149047, -107.45187184256714 -65.26824911971609, -107.39736875603245 -65.37973696518537 M-107.39736875603245 -65.37973696518537 C-107.33015612193154 -65.49253431922159, -107.26294348783061 -65.60533167325782, -107.18583239131264 -65.73474079061214 M-107.39736875603245 -65.37973696518537 C-107.32609836674506 -65.49934411107819, -107.25482797745768 -65.61895125697099, -107.18583239131264 -65.73474079061214 M-107.18583239131264 -65.73474079061214 C-107.13144516020677 -65.81091484729134, -107.07705792910087 -65.88708890397055, -106.94570254698196 -66.07106356344833 M-107.18583239131264 -65.73474079061214 C-107.08984967327757 -65.86917295152861, -106.99386695524251 -66.00360511244509, -106.94570254698196 -66.07106356344833 M-106.94570254698196 -66.07106356344833 C-106.86057476170642 -66.17157374959663, -106.77544697643087 -66.27208393574493, -106.67861955336566 -66.3864078581287 M-106.94570254698196 -66.07106356344833 C-106.86620634150202 -66.16492455589643, -106.7867101360221 -66.25878554834453, -106.67861955336566 -66.3864078581287 M-106.67861955336566 -66.3864078581287 C-106.5709635667073 -66.49406384478706, -106.46330758004895 -66.60171983144542, -106.3864078581287 -66.67861955336566 M-106.67861955336566 -66.3864078581287 C-106.5958785140981 -66.46914889739627, -106.51313747483056 -66.55188993666381, -106.3864078581287 -66.67861955336566 M-106.3864078581287 -66.67861955336566 C-106.32213924847116 -66.73305228911657, -106.25787063881361 -66.78748502486748, -106.07106356344833 -66.94570254698196 M-106.3864078581287 -66.67861955336566 C-106.28242012635113 -66.76669266954706, -106.17843239457355 -66.85476578572845, -106.07106356344833 -66.94570254698196 M-106.07106356344833 -66.94570254698196 C-105.97160393361995 -67.01671535776035, -105.87214430379157 -67.08772816853872, -105.73474079061214 -67.18583239131264 M-106.07106356344833 -66.94570254698196 C-105.94192679951837 -67.03790442423924, -105.8127900355884 -67.13010630149651, -105.73474079061214 -67.18583239131264 M-105.73474079061214 -67.18583239131264 C-105.61335061068301 -67.25816523827287, -105.4919604307539 -67.33049808523309, -105.37973696518537 -67.39736875603245 M-105.73474079061214 -67.18583239131264 C-105.63449447829409 -67.24556622786731, -105.53424816597605 -67.30530006442198, -105.37973696518537 -67.39736875603245 M-105.37973696518537 -67.39736875603245 C-105.25269692355751 -67.45947484798417, -105.12565688192966 -67.52158093993589, -105.00847712326485 -67.57886663327528 M-105.37973696518537 -67.39736875603245 C-105.27454590307046 -67.44879353276029, -105.16935484095555 -67.50021830948813, -105.00847712326485 -67.57886663327528 M-105.00847712326485 -67.57886663327528 C-104.89274296087356 -67.62402624357573, -104.77700879848226 -67.66918585387617, -104.62349734602341 -67.72908620850318 M-105.00847712326485 -67.57886663327528 C-104.88594348091473 -67.62667940888873, -104.7634098385646 -67.67449218450218, -104.62349734602341 -67.72908620850318 M-104.62349734602341 -67.72908620850318 C-104.5343704511807 -67.75562043474243, -104.44524355633799 -67.78215466098169, -104.227427435704 -67.84700132969665 M-104.62349734602341 -67.72908620850318 C-104.47071979872993 -67.77457005500447, -104.31794225143646 -67.82005390150577, -104.227427435704 -67.84700132969665 M-104.227427435704 -67.84700132969665 C-104.11806440435461 -67.8699323459646, -104.00870137300521 -67.89286336223255, -103.82297295140367 -67.93180651701361 M-104.227427435704 -67.84700132969665 C-104.12386915970984 -67.86871521675887, -104.0203108837157 -67.89042910382109, -103.82297295140367 -67.93180651701361 M-103.82297295140367 -67.93180651701361 C-103.66486461322161 -67.95151470081501, -103.50675627503954 -67.97122288461641, -103.41289672736167 -67.98292246503335 M-103.82297295140367 -67.93180651701361 C-103.70058330352785 -67.94706237071152, -103.57819365565203 -67.96231822440943, -103.41289672736167 -67.98292246503335 M-103.41289672736167 -67.98292246503335 C-103.2857498768302 -67.98818129767106, -103.1586030262987 -67.99344013030876, -103 -68 M-103.41289672736167 -67.98292246503335 C-103.28950408920993 -67.98802602229846, -103.1661114510582 -67.99312957956356, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68"></path></g><g transform="translate(-100, -60)" style="" class="label"><rect></rect><foreignObject height="120" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>EnvironmentInjector<br>(configured by Angular)<br>has special things like DomSanitizer =&gt; providedIn 'platform'</p></span></div></foreignObject></g></g><g transform="translate(116, 424)" id="state-rootInjector-0" class="node  statediagram-state"><g class="basic label-container outer-path"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-103 -68 C-38.673258234895854 -68, 25.65348353020829 -68, 103 -68 C103 -68, 103 -68, 103 -68 C103.13473526094697 -67.9944273083859, 103.26947052189394 -67.98885461677177, 103.41289672736166 -67.98292246503335 C103.5001123065959 -67.97205105441924, 103.58732788583013 -67.96117964380511, 103.82297295140367 -67.93180651701361 C103.92969353318456 -67.90942956415535, 104.03641411496547 -67.88705261129708, 104.227427435704 -67.84700132969665 C104.32339734672297 -67.81842984927391, 104.41936725774195 -67.78985836885116, 104.62349734602341 -67.72908620850318 C104.7023544727884 -67.69831606215624, 104.7812115995534 -67.66754591580931, 105.00847712326485 -67.57886663327528 C105.10910022904244 -67.52967499432576, 105.20972333482001 -67.48048335537624, 105.37973696518537 -67.39736875603245 C105.48793757066191 -67.33289518954207, 105.59613817613847 -67.2684216230517, 105.73474079061214 -67.18583239131264 C105.86915403398633 -67.08986318014315, 106.00356727736053 -66.99389396897365, 106.07106356344833 -66.94570254698196 C106.1667710544006 -66.8646424370442, 106.26247854535288 -66.78358232710644, 106.3864078581287 -66.67861955336566 C106.47265724810569 -66.59237016338868, 106.55890663808266 -66.50612077341171, 106.67861955336566 -66.3864078581287 C106.74388482038817 -66.309349302967, 106.80915008741067 -66.23229074780527, 106.94570254698196 -66.07106356344833 C107.03642735885857 -65.94399555830122, 107.12715217073519 -65.81692755315412, 107.18583239131264 -65.73474079061214 C107.26333087389 -65.6046815555668, 107.34082935646735 -65.47462232052145, 107.39736875603245 -65.37973696518537 C107.45775803758758 -65.25620871535435, 107.51814731914273 -65.13268046552332, 107.57886663327528 -65.00847712326485 C107.62762756014021 -64.88351357750814, 107.67638848700513 -64.75855003175144, 107.72908620850318 -64.62349734602341 C107.75522350661039 -64.53570370927406, 107.78136080471761 -64.44791007252472, 107.84700132969665 -64.227427435704 C107.86704121465343 -64.13185284183702, 107.88708109961021 -64.03627824797003, 107.93180651701361 -63.82297295140367 C107.94240259903457 -63.73796618789589, 107.9529986810555 -63.652959424388115, 107.98292246503335 -63.41289672736166 C107.9886884654321 -63.27348769091344, 107.99445446583086 -63.13407865446521, 108 -63 C108 -63, 108 -63, 108 -63 C108 -24.19420282531594, 108 14.611594349368119, 108 63 C108 63, 108 63, 108 63 C107.99577668646013 63.102110307057885, 107.99155337292025 63.20422061411577, 107.98292246503335 63.41289672736166 C107.97090208863861 63.50932985155245, 107.95888171224388 63.60576297574324, 107.93180651701361 63.82297295140367 C107.90356388694964 63.95766823053935, 107.87532125688566 64.09236350967502, 107.84700132969665 64.227427435704 C107.80299745833794 64.37523383412304, 107.75899358697923 64.52304023254207, 107.72908620850318 64.62349734602341 C107.69264010911262 64.71690069377892, 107.65619400972207 64.81030404153442, 107.57886663327528 65.00847712326485 C107.52777803273152 65.11298052600405, 107.47668943218775 65.21748392874325, 107.39736875603245 65.37973696518537 C107.3242546083615 65.50243833688752, 107.25114046069055 65.62513970858966, 107.18583239131264 65.73474079061214 C107.09463184483629 65.86247510352355, 107.00343129835993 65.99020941643498, 106.94570254698196 66.07106356344833 C106.88649431592476 66.14097058975952, 106.82728608486757 66.21087761607072, 106.67861955336566 66.3864078581287 C106.61435961820798 66.45066779328639, 106.55009968305029 66.51492772844408, 106.3864078581287 66.67861955336566 C106.2692307232681 66.77786352412998, 106.15205358840748 66.87710749489429, 106.07106356344833 66.94570254698196 C105.97297595705355 67.0157357518575, 105.87488835065876 67.08576895673306, 105.73474079061214 67.18583239131264 C105.63472678012684 67.24542780602029, 105.53471276964156 67.30502322072792, 105.37973696518537 67.39736875603245 C105.25993852616877 67.45593464418788, 105.14014008715218 67.5145005323433, 105.00847712326485 67.57886663327528 C104.87181888007747 67.63219084523804, 104.73516063689009 67.6855150572008, 104.62349734602341 67.72908620850318 C104.51378123947451 67.76175010864686, 104.4040651329256 67.79441400879054, 104.227427435704 67.84700132969665 C104.08739870815026 67.87636226629374, 103.9473699805965 67.90572320289084, 103.82297295140367 67.93180651701361 C103.72898532722729 67.94352206214946, 103.6349977030509 67.9552376072853, 103.41289672736166 67.98292246503335 C103.30491197370858 67.98738874748165, 103.19692722005553 67.99185502992995, 103 68 C103 68, 103 68, 103 68 C53.78273250983177 68, 4.5654650196635345 68, -103 68 C-103 68, -103 68, -103 68 C-103.13059034898484 67.99459874321275, -103.26118069796966 67.9891974864255, -103.41289672736166 67.98292246503335 C-103.56030003099207 67.96454866239725, -103.70770333462248 67.94617485976113, -103.82297295140367 67.93180651701361 C-103.92404399343434 67.91061414807113, -104.025115035465 67.88942177912867, -104.227427435704 67.84700132969665 C-104.36485388626527 67.80608770270577, -104.50228033682652 67.7651740757149, -104.62349734602341 67.72908620850318 C-104.73427133190513 67.68586206508273, -104.84504531778687 67.64263792166228, -105.00847712326485 67.57886663327528 C-105.09430442625957 67.53690822155362, -105.1801317292543 67.49494980983197, -105.37973696518537 67.39736875603245 C-105.48234259459025 67.33622907164171, -105.58494822399513 67.27508938725099, -105.73474079061214 67.18583239131264 C-105.84607431253839 67.10634178452594, -105.95740783446465 67.02685117773922, -106.07106356344833 66.94570254698196 C-106.14775561264484 66.88074769467764, -106.22444766184137 66.81579284237333, -106.3864078581287 66.67861955336566 C-106.48692720504232 66.57810020645205, -106.58744655195594 66.47758085953843, -106.67861955336566 66.3864078581287 C-106.77655320575667 66.27077781324805, -106.87448685814768 66.15514776836737, -106.94570254698196 66.07106356344833 C-107.01308581190543 65.97668742888253, -107.0804690768289 65.88231129431674, -107.18583239131264 65.73474079061214 C-107.24775743213904 65.63081716304958, -107.30968247296542 65.52689353548703, -107.39736875603245 65.37973696518537 C-107.44049618456853 65.2915184000761, -107.48362361310461 65.20329983496681, -107.57886663327528 65.00847712326485 C-107.62933034094975 64.87914972429023, -107.67979404862423 64.7498223253156, -107.72908620850318 64.62349734602341 C-107.77420721317907 64.47193856293757, -107.81932821785496 64.32037977985172, -107.84700132969665 64.227427435704 C-107.87445281241975 64.09650531125243, -107.90190429514284 63.96558318680086, -107.93180651701361 63.82297295140367 C-107.94228705070898 63.73889317101727, -107.95276758440436 63.65481339063086, -107.98292246503335 63.41289672736166 C-107.98940280062845 63.2562166582155, -107.99588313622354 63.09953658906933, -108 63 C-108 63, -108 63, -108 63 C-108 23.62536749775912, -108 -15.749265004481757, -108 -63 C-108 -63, -108 -63, -108 -63 C-107.99628908972521 -63.0897215383242, -107.99257817945042 -63.17944307664839, -107.98292246503335 -63.41289672736166 C-107.97075301840503 -63.51052576321746, -107.95858357177671 -63.60815479907326, -107.93180651701361 -63.82297295140367 C-107.90940800652604 -63.92979634623319, -107.88700949603844 -64.03661974106271, -107.84700132969665 -64.22742743570399 C-107.80681447146365 -64.36241271303959, -107.76662761323065 -64.49739799037519, -107.72908620850318 -64.62349734602341 C-107.67899329630129 -64.75187447764291, -107.62890038409941 -64.8802516092624, -107.57886663327528 -65.00847712326484 C-107.53615983928904 -65.0958352666499, -107.4934530453028 -65.18319341003497, -107.39736875603245 -65.37973696518537 C-107.32371634431227 -65.50334166051614, -107.2500639325921 -65.62694635584691, -107.18583239131264 -65.73474079061214 C-107.13653806635705 -65.80378178841217, -107.08724374140145 -65.87282278621218, -106.94570254698196 -66.07106356344833 C-106.86865507589444 -66.16203334066262, -106.79160760480693 -66.25300311787691, -106.67861955336566 -66.3864078581287 C-106.58776148191312 -66.47726592958125, -106.49690341046056 -66.56812400103381, -106.3864078581287 -66.67861955336566 C-106.28706088585344 -66.76276214674567, -106.18771391357816 -66.84690474012567, -106.07106356344833 -66.94570254698196 C-105.94453185514759 -67.03604445027005, -105.81800014684684 -67.12638635355816, -105.73474079061214 -67.18583239131264 C-105.6565975978099 -67.23239562739359, -105.57845440500768 -67.27895886347451, -105.37973696518537 -67.39736875603245 C-105.26086512293264 -67.45548165863244, -105.14199328067991 -67.51359456123244, -105.00847712326485 -67.57886663327528 C-104.87229520976192 -67.63200498081841, -104.73611329625898 -67.68514332836155, -104.62349734602341 -67.72908620850318 C-104.48536806682112 -67.77020907664625, -104.34723878761882 -67.81133194478933, -104.227427435704 -67.84700132969665 C-104.13007489964855 -67.86741400992753, -104.0327223635931 -67.88782669015839, -103.82297295140367 -67.93180651701361 C-103.68225667011579 -67.949346783184, -103.5415403888279 -67.96688704935438, -103.41289672736167 -67.98292246503335 C-103.26636453154639 -67.98898308148281, -103.11983233573112 -67.99504369793226, -103 -68 C-103 -68, -103 -68, -103 -68"></path><path style="" stroke-dasharray="0 0" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-103 -68 C-57.769494569926664 -68, -12.538989139853328 -68, 103 -68 M-103 -68 C-33.39285033051584 -68, 36.21429933896832 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103.10217354275821 -67.99577407101222, 103.20434708551642 -67.99154814202443, 103.41289672736166 -67.98292246503335 M103 -68 C103.15571809193989 -67.99355945207647, 103.31143618387978 -67.98711890415294, 103.41289672736166 -67.98292246503335 M103.41289672736166 -67.98292246503335 C103.52568799925326 -67.96886304765415, 103.63847927114486 -67.95480363027497, 103.82297295140367 -67.93180651701361 M103.41289672736166 -67.98292246503335 C103.53774088121543 -67.96736065748436, 103.6625850350692 -67.95179884993537, 103.82297295140367 -67.93180651701361 M103.82297295140367 -67.93180651701361 C103.97897347015237 -67.8990966479738, 104.13497398890108 -67.866386778934, 104.227427435704 -67.84700132969665 M103.82297295140367 -67.93180651701361 C103.92666588194096 -67.91006439586276, 104.03035881247827 -67.88832227471192, 104.227427435704 -67.84700132969665 M104.227427435704 -67.84700132969665 C104.38355896557903 -67.80051895931793, 104.53969049545405 -67.7540365889392, 104.62349734602341 -67.72908620850318 M104.227427435704 -67.84700132969665 C104.38106079925181 -67.80126269565729, 104.53469416279962 -67.75552406161793, 104.62349734602341 -67.72908620850318 M104.62349734602341 -67.72908620850318 C104.7011920881711 -67.69876962604137, 104.77888683031878 -67.66845304357958, 105.00847712326485 -67.57886663327528 M104.62349734602341 -67.72908620850318 C104.75931022296727 -67.67609185947224, 104.89512309991112 -67.62309751044131, 105.00847712326485 -67.57886663327528 M105.00847712326485 -67.57886663327528 C105.0974390202644 -67.53537581192118, 105.18640091726397 -67.49188499056709, 105.37973696518537 -67.39736875603245 M105.00847712326485 -67.57886663327528 C105.12684234176825 -67.5210014039345, 105.24520756027167 -67.46313617459373, 105.37973696518537 -67.39736875603245 M105.37973696518537 -67.39736875603245 C105.45790944512838 -67.35078806860352, 105.53608192507139 -67.3042073811746, 105.73474079061214 -67.18583239131264 M105.37973696518537 -67.39736875603245 C105.52022060281192 -67.31365867778074, 105.66070424043846 -67.22994859952901, 105.73474079061214 -67.18583239131264 M105.73474079061214 -67.18583239131264 C105.82789822271039 -67.11931926322632, 105.92105565480865 -67.05280613514, 106.07106356344833 -66.94570254698196 M105.73474079061214 -67.18583239131264 C105.8286138673144 -67.1188083028001, 105.92248694401667 -67.05178421428757, 106.07106356344833 -66.94570254698196 M106.07106356344833 -66.94570254698196 C106.13879624580191 -66.88833589131758, 106.20652892815549 -66.8309692356532, 106.3864078581287 -66.67861955336566 M106.07106356344833 -66.94570254698196 C106.14929740583587 -66.8794418624557, 106.2275312482234 -66.81318117792947, 106.3864078581287 -66.67861955336566 M106.3864078581287 -66.67861955336566 C106.49770263647906 -66.56732477501531, 106.60899741482943 -66.45602999666494, 106.67861955336566 -66.3864078581287 M106.3864078581287 -66.67861955336566 C106.49248500181456 -66.57254240967981, 106.59856214550041 -66.46646526599396, 106.67861955336566 -66.3864078581287 M106.67861955336566 -66.3864078581287 C106.74051527323559 -66.31332771977233, 106.8024109931055 -66.24024758141596, 106.94570254698196 -66.07106356344833 M106.67861955336566 -66.3864078581287 C106.7851543377658 -66.26062247587463, 106.89168912216596 -66.13483709362056, 106.94570254698196 -66.07106356344833 M106.94570254698196 -66.07106356344833 C107.03513685129896 -65.94580302659834, 107.12457115561594 -65.82054248974835, 107.18583239131264 -65.73474079061214 M106.94570254698196 -66.07106356344833 C106.99656554247619 -65.9998255058589, 107.04742853797042 -65.92858744826944, 107.18583239131264 -65.73474079061214 M107.18583239131264 -65.73474079061214 C107.26137941126737 -65.60795653241122, 107.33692643122208 -65.48117227421032, 107.39736875603245 -65.37973696518537 M107.18583239131264 -65.73474079061214 C107.2582935987414 -65.61313519402204, 107.33075480617018 -65.49152959743192, 107.39736875603245 -65.37973696518537 M107.39736875603245 -65.37973696518537 C107.43774707177761 -65.29714180017135, 107.47812538752278 -65.21454663515732, 107.57886663327528 -65.00847712326485 M107.39736875603245 -65.37973696518537 C107.43896225607321 -65.2946561009646, 107.48055575611397 -65.20957523674383, 107.57886663327528 -65.00847712326485 M107.57886663327528 -65.00847712326485 C107.6209569681046 -64.9006088397737, 107.66304730293389 -64.79274055628254, 107.72908620850318 -64.62349734602341 M107.57886663327528 -65.00847712326485 C107.63807776087407 -64.85673200829822, 107.69728888847285 -64.7049868933316, 107.72908620850318 -64.62349734602341 M107.72908620850318 -64.62349734602341 C107.77227861037015 -64.47841662557988, 107.81547101223714 -64.33333590513637, 107.84700132969665 -64.227427435704 M107.72908620850318 -64.62349734602341 C107.75628154236344 -64.532149829826, 107.7834768762237 -64.44080231362858, 107.84700132969665 -64.227427435704 M107.84700132969665 -64.227427435704 C107.87388529189609 -64.09921194074045, 107.90076925409552 -63.97099644577689, 107.93180651701361 -63.82297295140367 M107.84700132969665 -64.227427435704 C107.86997910957298 -64.11784137847955, 107.89295688944931 -64.00825532125512, 107.93180651701361 -63.82297295140367 M107.93180651701361 -63.82297295140367 C107.94339646031781 -63.72999296431215, 107.954986403622 -63.637012977220635, 107.98292246503335 -63.41289672736166 M107.93180651701361 -63.82297295140367 C107.94258951688788 -63.73646664478924, 107.95337251676214 -63.64996033817481, 107.98292246503335 -63.41289672736166 M107.98292246503335 -63.41289672736166 C107.98795842533494 -63.29113843310503, 107.99299438563652 -63.1693801388484, 108 -63 M107.98292246503335 -63.41289672736166 C107.98911267944433 -63.2632311417283, 107.9953028938553 -63.11356555609493, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -37.227977854453556, 108 -11.455955708907112, 108 63 M108 -63 C108 -27.222155897060645, 108 8.55568820587871, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C107.99366691537503 63.15311986893086, 107.98733383075006 63.30623973786172, 107.98292246503335 63.41289672736166 M108 63 C107.99487046865752 63.12402063344289, 107.98974093731505 63.24804126688578, 107.98292246503335 63.41289672736166 M107.98292246503335 63.41289672736166 C107.96959966573806 63.51977850184376, 107.95627686644276 63.62666027632586, 107.93180651701361 63.82297295140367 M107.98292246503335 63.41289672736166 C107.97245629880172 63.49686124518314, 107.96199013257008 63.58082576300462, 107.93180651701361 63.82297295140367 M107.93180651701361 63.82297295140367 C107.90909111084251 63.93130769104958, 107.88637570467141 64.0396424306955, 107.84700132969665 64.227427435704 M107.93180651701361 63.82297295140367 C107.9029762405356 63.9604708447999, 107.87414596405756 64.09796873819613, 107.84700132969665 64.227427435704 M107.84700132969665 64.227427435704 C107.80747593005525 64.3601909127955, 107.76795053041383 64.492954389887, 107.72908620850318 64.62349734602341 M107.84700132969665 64.227427435704 C107.82029974263399 64.31711648564308, 107.79359815557133 64.40680553558217, 107.72908620850318 64.62349734602341 M107.72908620850318 64.62349734602341 C107.68019120008958 64.74880451333985, 107.63129619167597 64.87411168065628, 107.57886663327528 65.00847712326485 M107.72908620850318 64.62349734602341 C107.68399819078556 64.73904803234944, 107.63891017306794 64.85459871867546, 107.57886663327528 65.00847712326485 M107.57886663327528 65.00847712326485 C107.50902339827368 65.15134374396487, 107.43918016327208 65.29421036466489, 107.39736875603245 65.37973696518537 M107.57886663327528 65.00847712326485 C107.51581789953907 65.13744536948228, 107.45276916580286 65.26641361569972, 107.39736875603245 65.37973696518537 M107.39736875603245 65.37973696518537 C107.31974123139041 65.51001276075762, 107.24211370674838 65.64028855632985, 107.18583239131264 65.73474079061214 M107.39736875603245 65.37973696518537 C107.33979649770299 65.47635568118008, 107.28222423937353 65.57297439717479, 107.18583239131264 65.73474079061214 M107.18583239131264 65.73474079061214 C107.09885239757674 65.85656385161514, 107.01187240384081 65.97838691261813, 106.94570254698196 66.07106356344833 M107.18583239131264 65.73474079061214 C107.1185162783486 65.82902287300689, 107.05120016538453 65.92330495540165, 106.94570254698196 66.07106356344833 M106.94570254698196 66.07106356344833 C106.85363403120324 66.17976865461644, 106.76156551542452 66.28847374578454, 106.67861955336566 66.3864078581287 M106.94570254698196 66.07106356344833 C106.89091646786902 66.13574936482509, 106.83613038875609 66.20043516620184, 106.67861955336566 66.3864078581287 M106.67861955336566 66.3864078581287 C106.59761092721938 66.46741648427499, 106.5166023010731 66.54842511042126, 106.3864078581287 66.67861955336566 M106.67861955336566 66.3864078581287 C106.57515252575082 66.48987488574355, 106.471685498136 66.59334191335837, 106.3864078581287 66.67861955336566 M106.3864078581287 66.67861955336566 C106.2670301997823 66.77972727245213, 106.14765254143587 66.8808349915386, 106.07106356344833 66.94570254698196 M106.3864078581287 66.67861955336566 C106.26638060170549 66.78027745395828, 106.14635334528226 66.88193535455089, 106.07106356344833 66.94570254698196 M106.07106356344833 66.94570254698196 C105.94365730916715 67.0366688640984, 105.81625105488597 67.12763518121483, 105.73474079061214 67.18583239131264 M106.07106356344833 66.94570254698196 C105.97451997878596 67.0146333415297, 105.87797639412359 67.08356413607746, 105.73474079061214 67.18583239131264 M105.73474079061214 67.18583239131264 C105.64892640573035 67.23696666570176, 105.56311202084856 67.28810094009089, 105.37973696518537 67.39736875603245 M105.73474079061214 67.18583239131264 C105.62821744939738 67.24930652523581, 105.52169410818264 67.31278065915897, 105.37973696518537 67.39736875603245 M105.37973696518537 67.39736875603245 C105.262040958906 67.45490682745208, 105.14434495262664 67.51244489887172, 105.00847712326485 67.57886663327528 M105.37973696518537 67.39736875603245 C105.27448834023804 67.44882167351432, 105.1692397152907 67.50027459099618, 105.00847712326485 67.57886663327528 M105.00847712326485 67.57886663327528 C104.87406229952435 67.63131546025345, 104.73964747578385 67.68376428723161, 104.62349734602341 67.72908620850318 M105.00847712326485 67.57886663327528 C104.90789286119535 67.6181147341261, 104.80730859912583 67.6573628349769, 104.62349734602341 67.72908620850318 M104.62349734602341 67.72908620850318 C104.52184053803374 67.75935075150917, 104.42018373004406 67.78961529451517, 104.227427435704 67.84700132969665 M104.62349734602341 67.72908620850318 C104.5108977235956 67.76260856851837, 104.3982981011678 67.79613092853357, 104.227427435704 67.84700132969665 M104.227427435704 67.84700132969665 C104.10630798366255 67.8723974081599, 103.9851885316211 67.89779348662314, 103.82297295140367 67.93180651701361 M104.227427435704 67.84700132969665 C104.14044912739232 67.86523876311675, 104.05347081908062 67.88347619653683, 103.82297295140367 67.93180651701361 M103.82297295140367 67.93180651701361 C103.68169490266521 67.94941680742369, 103.54041685392676 67.96702709783375, 103.41289672736166 67.98292246503335 M103.82297295140367 67.93180651701361 C103.69711214872417 67.94749504970657, 103.57125134604468 67.96318358239952, 103.41289672736166 67.98292246503335 M103.41289672736166 67.98292246503335 C103.30052629239793 67.98757014060243, 103.1881558574342 67.9922178161715, 103 68 M103.41289672736166 67.98292246503335 C103.29625367887422 67.98774685720495, 103.17961063038678 67.99257124937654, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C27.108987075231056 68, -48.78202584953789 68, -103 68 M103 68 C35.76235064491422 68, -31.475298710171558 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103.13145122635595 67.9945631370613, -103.26290245271188 67.98912627412261, -103.41289672736166 67.98292246503335 M-103 68 C-103.10307693768875 67.9957367063215, -103.20615387537751 67.991473412643, -103.41289672736166 67.98292246503335 M-103.41289672736166 67.98292246503335 C-103.50598616126693 67.97131887919805, -103.5990755951722 67.95971529336275, -103.82297295140367 67.93180651701361 M-103.41289672736166 67.98292246503335 C-103.54592831528949 67.96634009489134, -103.67895990321733 67.94975772474933, -103.82297295140367 67.93180651701361 M-103.82297295140367 67.93180651701361 C-103.91529460872083 67.91244870112554, -104.00761626603797 67.89309088523746, -104.227427435704 67.84700132969665 M-103.82297295140367 67.93180651701361 C-103.93722110283532 67.90785119877913, -104.05146925426698 67.88389588054464, -104.227427435704 67.84700132969665 M-104.227427435704 67.84700132969665 C-104.31154088362528 67.82195967127417, -104.39565433154658 67.79691801285169, -104.62349734602341 67.72908620850318 M-104.227427435704 67.84700132969665 C-104.36151135527255 67.80708281729748, -104.49559527484111 67.76716430489832, -104.62349734602341 67.72908620850318 M-104.62349734602341 67.72908620850318 C-104.70374583825354 67.69777314966703, -104.78399433048365 67.66646009083088, -105.00847712326485 67.57886663327528 M-104.62349734602341 67.72908620850318 C-104.71350713573335 67.69396427957105, -104.80351692544328 67.65884235063893, -105.00847712326485 67.57886663327528 M-105.00847712326485 67.57886663327528 C-105.15157060459929 67.50891249286748, -105.29466408593372 67.43895835245968, -105.37973696518537 67.39736875603245 M-105.00847712326485 67.57886663327528 C-105.09927392607125 67.5344787811323, -105.19007072887766 67.4900909289893, -105.37973696518537 67.39736875603245 M-105.37973696518537 67.39736875603245 C-105.51006587250774 67.31970958365667, -105.64039477983012 67.24205041128089, -105.73474079061214 67.18583239131264 M-105.37973696518537 67.39736875603245 C-105.51000210398814 67.3197475814467, -105.6402672427909 67.24212640686096, -105.73474079061214 67.18583239131264 M-105.73474079061214 67.18583239131264 C-105.85386311273803 67.10078068807181, -105.97298543486392 67.01572898483097, -106.07106356344833 66.94570254698196 M-105.73474079061214 67.18583239131264 C-105.80396127868771 67.13640991276351, -105.87318176676327 67.0869874342144, -106.07106356344833 66.94570254698196 M-106.07106356344833 66.94570254698196 C-106.18882138532527 66.84596675940253, -106.3065792072022 66.7462309718231, -106.3864078581287 66.67861955336566 M-106.07106356344833 66.94570254698196 C-106.16024771229725 66.87016742597451, -106.24943186114615 66.79463230496708, -106.3864078581287 66.67861955336566 M-106.3864078581287 66.67861955336566 C-106.46122787214767 66.6037995393467, -106.53604788616663 66.52897952532774, -106.67861955336566 66.3864078581287 M-106.3864078581287 66.67861955336566 C-106.47436798896553 66.59065942252884, -106.56232811980234 66.50269929169202, -106.67861955336566 66.3864078581287 M-106.67861955336566 66.3864078581287 C-106.76068645727634 66.28951164777885, -106.84275336118701 66.192615437429, -106.94570254698196 66.07106356344833 M-106.67861955336566 66.3864078581287 C-106.7526538062463 66.29899578092856, -106.82668805912695 66.21158370372841, -106.94570254698196 66.07106356344833 M-106.94570254698196 66.07106356344833 C-107.02461052542567 65.96054606328894, -107.1035185038694 65.85002856312957, -107.18583239131264 65.73474079061214 M-106.94570254698196 66.07106356344833 C-107.02383307207687 65.96163495445427, -107.10196359717177 65.8522063454602, -107.18583239131264 65.73474079061214 M-107.18583239131264 65.73474079061214 C-107.26559959455767 65.60087415102471, -107.3453667978027 65.46700751143729, -107.39736875603245 65.37973696518537 M-107.18583239131264 65.73474079061214 C-107.25985192612247 65.61051998324125, -107.3338714609323 65.48629917587036, -107.39736875603245 65.37973696518537 M-107.39736875603245 65.37973696518537 C-107.43935886177697 65.29384483103067, -107.48134896752148 65.20795269687595, -107.57886663327528 65.00847712326485 M-107.39736875603245 65.37973696518537 C-107.44766448218654 65.27685541293306, -107.49796020834061 65.17397386068073, -107.57886663327528 65.00847712326485 M-107.57886663327528 65.00847712326485 C-107.61511448822881 64.91558183245924, -107.65136234318234 64.82268654165364, -107.72908620850318 64.62349734602341 M-107.57886663327528 65.00847712326485 C-107.63840584649643 64.8558911969085, -107.69794505971757 64.70330527055216, -107.72908620850318 64.62349734602341 M-107.72908620850318 64.62349734602341 C-107.75433681688365 64.53868204756519, -107.77958742526411 64.45386674910696, -107.84700132969665 64.227427435704 M-107.72908620850318 64.62349734602341 C-107.76853459713573 64.49099254435083, -107.80798298576828 64.35848774267825, -107.84700132969665 64.227427435704 M-107.84700132969665 64.227427435704 C-107.8700315466757 64.11759129446925, -107.89306176365474 64.0077551532345, -107.93180651701361 63.82297295140367 M-107.84700132969665 64.227427435704 C-107.8668948778043 64.1325507542728, -107.88678842591196 64.03767407284161, -107.93180651701361 63.82297295140367 M-107.93180651701361 63.82297295140367 C-107.94563594796121 63.712026739050344, -107.9594653789088 63.60108052669701, -107.98292246503335 63.41289672736166 M-107.93180651701361 63.82297295140367 C-107.94911771276439 63.6840943809741, -107.96642890851518 63.54521581054454, -107.98292246503335 63.41289672736166 M-107.98292246503335 63.41289672736166 C-107.9890338505128 63.26513704957224, -107.99514523599225 63.117377371782815, -108 63 M-107.98292246503335 63.41289672736166 C-107.98674352478672 63.32051202018358, -107.99056458454008 63.228127313005494, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 20.673123282464047, -108 -21.653753435071906, -108 -63 M-108 63 C-108 27.760435226013122, -108 -7.479129547973756, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-107.99335328822796 -63.1607026742296, -107.98670657645593 -63.3214053484592, -107.98292246503335 -63.41289672736166 M-108 -63 C-107.99325679187284 -63.16303574099324, -107.98651358374568 -63.32607148198648, -107.98292246503335 -63.41289672736166 M-107.98292246503335 -63.41289672736166 C-107.96262985194144 -63.575693632731834, -107.94233723884953 -63.738490538102006, -107.93180651701361 -63.82297295140367 M-107.98292246503335 -63.41289672736166 C-107.97057091373063 -63.51198669273461, -107.95821936242791 -63.611076658107564, -107.93180651701361 -63.82297295140367 M-107.93180651701361 -63.82297295140367 C-107.89936514598558 -63.97769294441656, -107.86692377495756 -64.13241293742945, -107.84700132969665 -64.22742743570399 M-107.93180651701361 -63.82297295140367 C-107.90076204682262 -63.971030818837505, -107.86971757663161 -64.11908868627134, -107.84700132969665 -64.22742743570399 M-107.84700132969665 -64.22742743570399 C-107.82275307442897 -64.30887588940583, -107.7985048191613 -64.39032434310766, -107.72908620850318 -64.62349734602341 M-107.84700132969665 -64.22742743570399 C-107.81997773989544 -64.31819807377607, -107.7929541500942 -64.40896871184815, -107.72908620850318 -64.62349734602341 M-107.72908620850318 -64.62349734602341 C-107.69837330964258 -64.70220776005472, -107.66766041078196 -64.78091817408603, -107.57886663327528 -65.00847712326484 M-107.72908620850318 -64.62349734602341 C-107.68833088721864 -64.72794428302026, -107.6475755659341 -64.83239122001713, -107.57886663327528 -65.00847712326484 M-107.57886663327528 -65.00847712326484 C-107.51696614642074 -65.13509659294422, -107.4550656595662 -65.26171606262359, -107.39736875603245 -65.37973696518537 M-107.57886663327528 -65.00847712326484 C-107.52602039784254 -65.11657582563481, -107.47317416240979 -65.22467452800478, -107.39736875603245 -65.37973696518537 M-107.39736875603245 -65.37973696518537 C-107.32501154744104 -65.50116802920682, -107.25265433884962 -65.62259909322826, -107.18583239131264 -65.73474079061214 M-107.39736875603245 -65.37973696518537 C-107.31405974093119 -65.51954753200049, -107.23075072582992 -65.6593580988156, -107.18583239131264 -65.73474079061214 M-107.18583239131264 -65.73474079061214 C-107.09953078622387 -65.8556137091974, -107.01322918113509 -65.97648662778265, -106.94570254698196 -66.07106356344833 M-107.18583239131264 -65.73474079061214 C-107.12761285605322 -65.81628232322029, -107.06939332079381 -65.89782385582845, -106.94570254698196 -66.07106356344833 M-106.94570254698196 -66.07106356344833 C-106.88671550412418 -66.14070943334595, -106.8277284612664 -66.21035530324356, -106.67861955336566 -66.3864078581287 M-106.94570254698196 -66.07106356344833 C-106.86979461326041 -66.16068789143701, -106.79388667953887 -66.2503122194257, -106.67861955336566 -66.3864078581287 M-106.67861955336566 -66.3864078581287 C-106.56191976083079 -66.50310765066358, -106.44521996829592 -66.61980744319845, -106.3864078581287 -66.67861955336566 M-106.67861955336566 -66.3864078581287 C-106.61772397521081 -66.44730343628356, -106.55682839705595 -66.50819901443842, -106.3864078581287 -66.67861955336566 M-106.3864078581287 -66.67861955336566 C-106.26816074352938 -66.7787697507418, -106.14991362893005 -66.87891994811794, -106.07106356344833 -66.94570254698196 M-106.3864078581287 -66.67861955336566 C-106.27108747742392 -66.77629093357828, -106.15576709671912 -66.87396231379091, -106.07106356344833 -66.94570254698196 M-106.07106356344833 -66.94570254698196 C-105.99117447748971 -67.00274225801071, -105.91128539153108 -67.05978196903946, -105.73474079061214 -67.18583239131264 M-106.07106356344833 -66.94570254698196 C-105.98213959037744 -67.00919304341997, -105.89321561730655 -67.07268353985799, -105.73474079061214 -67.18583239131264 M-105.73474079061214 -67.18583239131264 C-105.61071625530305 -67.25973497335893, -105.48669171999394 -67.33363755540523, -105.37973696518537 -67.39736875603245 M-105.73474079061214 -67.18583239131264 C-105.60855230064345 -67.261024410456, -105.48236381067477 -67.33621642959938, -105.37973696518537 -67.39736875603245 M-105.37973696518537 -67.39736875603245 C-105.29661380664275 -67.43800519208533, -105.21349064810013 -67.4786416281382, -105.00847712326485 -67.57886663327528 M-105.37973696518537 -67.39736875603245 C-105.29872172949145 -67.43697469139758, -105.21770649379752 -67.47658062676273, -105.00847712326485 -67.57886663327528 M-105.00847712326485 -67.57886663327528 C-104.85996799846336 -67.63681507359337, -104.71145887366185 -67.69476351391147, -104.62349734602341 -67.72908620850318 M-105.00847712326485 -67.57886663327528 C-104.89052695584478 -67.62489093142119, -104.77257678842469 -67.67091522956709, -104.62349734602341 -67.72908620850318 M-104.62349734602341 -67.72908620850318 C-104.5036642773585 -67.76476205876712, -104.38383120869358 -67.80043790903106, -104.227427435704 -67.84700132969665 M-104.62349734602341 -67.72908620850318 C-104.53646373648743 -67.7549972367054, -104.44943012695147 -67.78090826490764, -104.227427435704 -67.84700132969665 M-104.227427435704 -67.84700132969665 C-104.11157352330669 -67.87129334059932, -103.99571961090938 -67.89558535150199, -103.82297295140367 -67.93180651701361 M-104.227427435704 -67.84700132969665 C-104.0788293664042 -67.87815906830774, -103.93023129710438 -67.90931680691881, -103.82297295140367 -67.93180651701361 M-103.82297295140367 -67.93180651701361 C-103.6856075886776 -67.94892909162087, -103.54824222595153 -67.96605166622811, -103.41289672736167 -67.98292246503335 M-103.82297295140367 -67.93180651701361 C-103.72940908920778 -67.94346924027367, -103.6358452270119 -67.95513196353373, -103.41289672736167 -67.98292246503335 M-103.41289672736167 -67.98292246503335 C-103.26303259149039 -67.98912089154291, -103.1131684556191 -67.99531931805247, -103 -68 M-103.41289672736167 -67.98292246503335 C-103.3186986310083 -67.9868185271178, -103.22450053465494 -67.99071458920226, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68"></path></g><g transform="translate(-100, -60)" style="" class="label"><rect></rect><foreignObject height="120" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>root EnvironmentInjector<br>(configured by AppConfig)<br>has things for your app =&gt; bootstrapApplication(..., AppConfig)</p></span></div></foreignObject></g></g><g transform="translate(116, 64)" id="state-nullInjector-1" class="node  statediagram-state"><g class="basic label-container outer-path"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-103 -56 C-35.179772086767414 -56, 32.64045582646517 -56, 103 -56 C103 -56, 103 -56, 103 -56 C103.09123350578464 -55.99622655428847, 103.1824670115693 -55.99245310857694, 103.41289672736166 -55.98292246503335 C103.50599419878407 -55.971317877322576, 103.59909167020648 -55.959713289611805, 103.82297295140367 -55.93180651701361 C103.91381000524461 -55.912759989739655, 104.00464705908554 -55.89371346246569, 104.227427435704 -55.84700132969665 C104.35972969811931 -55.80761323961354, 104.49203196053463 -55.76822514953042, 104.62349734602341 -55.729086208503176 C104.7597574059435 -55.675917368133454, 104.8960174658636 -55.622748527763726, 105.00847712326485 -55.57886663327529 C105.12671623099855 -55.5210630557331, 105.24495533873225 -55.463259478190906, 105.37973696518537 -55.39736875603244 C105.50209447716428 -55.32445950428266, 105.6244519891432 -55.251550252532866, 105.73474079061214 -55.185832391312644 C105.81560434058694 -55.12809692634925, 105.89646789056175 -55.07036146138585, 106.07106356344833 -54.94570254698197 C106.18682148090244 -54.84766059204579, 106.30257939835654 -54.74961863710962, 106.3864078581287 -54.67861955336566 C106.4745743277434 -54.59045308375097, 106.56274079735809 -54.50228661413628, 106.67861955336566 -54.386407858128706 C106.75849790081152 -54.29209567151403, 106.83837624825738 -54.19778348489936, 106.94570254698196 -54.07106356344834 C107.01694779561954 -53.97127838414261, 107.08819304425712 -53.87149320483687, 107.18583239131264 -53.734740790612136 C107.25498451193684 -53.618688558219475, 107.32413663256104 -53.502636325826806, 107.39736875603245 -53.379736965185366 C107.4617549358925 -53.24803292919422, 107.52614111575255 -53.11632889320306, 107.57886663327528 -53.008477123264846 C107.61472492343796 -52.91658020145459, 107.65058321360064 -52.82468327964434, 107.72908620850318 -52.62349734602342 C107.76061202502363 -52.51760399497887, 107.79213784154408 -52.41171064393431, 107.84700132969665 -52.227427435703994 C107.86698450472477 -52.132123303888676, 107.88696767975287 -52.036819172073365, 107.93180651701361 -51.82297295140367 C107.94265410783918 -51.735948465738645, 107.95350169866474 -51.64892398007362, 107.98292246503335 -51.41289672736166 C107.98745484950987 -51.3033137740165, 107.99198723398639 -51.193730820671334, 108 -51 C108 -51, 108 -51, 108 -51 C108 -27.30188393744655, 108 -3.6037678748931015, 108 51 C108 51, 108 51, 108 51 C107.99512718537518 51.11781379546622, 107.99025437075036 51.23562759093244, 107.98292246503335 51.41289672736166 C107.96475233174117 51.55866609953337, 107.94658219844898 51.704435471705075, 107.93180651701361 51.82297295140367 C107.91162708295737 51.91921308544392, 107.8914476489011 52.01545321948417, 107.84700132969665 52.227427435703994 C107.81803587580998 52.32472068026105, 107.78907042192333 52.42201392481811, 107.72908620850318 52.62349734602342 C107.67413566000914 52.76432353253362, 107.61918511151511 52.905149719043834, 107.57886663327528 53.008477123264846 C107.50838919358057 53.15264103039976, 107.43791175388587 53.296804937534674, 107.39736875603245 53.379736965185366 C107.31888387888036 53.511451583917925, 107.24039900172828 53.64316620265049, 107.18583239131264 53.734740790612136 C107.11513497427748 53.83375868401851, 107.0444375572423 53.93277657742489, 106.94570254698196 54.07106356344834 C106.8541871281118 54.179115614330506, 106.76267170924164 54.28716766521267, 106.67861955336566 54.386407858128706 C106.59403509125758 54.470992320236796, 106.50945062914948 54.55557678234488, 106.3864078581287 54.67861955336566 C106.30938315723387 54.74385614728674, 106.23235845633903 54.80909274120783, 106.07106356344833 54.94570254698197 C105.99337196137512 55.00117328467337, 105.9156803593019 55.05664402236477, 105.73474079061214 55.185832391312644 C105.60966641129328 55.260360544604765, 105.48459203197443 55.334888697896886, 105.37973696518537 55.39736875603244 C105.25155796371547 55.460031651522435, 105.12337896224557 55.52269454701242, 105.00847712326485 55.57886663327529 C104.90127402437628 55.62069741226723, 104.7940709254877 55.662528191259184, 104.62349734602341 55.729086208503176 C104.4774017427225 55.772580754087734, 104.3313061394216 55.8160752996723, 104.227427435704 55.84700132969665 C104.13659184308555 55.866047550584476, 104.04575625046712 55.8850937714723, 103.82297295140367 55.93180651701361 C103.71206868495541 55.94563071940959, 103.60116441850715 55.95945492180557, 103.41289672736166 55.98292246503335 C103.32555839399473 55.98653480522198, 103.2382200606278 55.99014714541061, 103 56 C103 56, 103 56, 103 56 C46.21555551397814 56, -10.568888972043723 56, -103 56 C-103 56, -103 56, -103 56 C-103.14677089952622 55.99392951069203, -103.29354179905242 55.987859021384054, -103.41289672736166 55.98292246503335 C-103.5014230070232 55.971887675781346, -103.58994928668477 55.960852886529345, -103.82297295140367 55.93180651701361 C-103.97266722820922 55.90041892785946, -104.12236150501478 55.86903133870531, -104.227427435704 55.84700132969665 C-104.36878049632226 55.8049187002426, -104.51013355694052 55.76283607078855, -104.62349734602341 55.729086208503176 C-104.728900678574 55.68795770051553, -104.83430401112462 55.646829192527896, -105.00847712326485 55.57886663327529 C-105.1262549804034 55.52128854740886, -105.24403283754197 55.46371046154242, -105.37973696518537 55.39736875603245 C-105.51713986021683 55.31549440191249, -105.6545427552483 55.23362004779252, -105.73474079061214 55.185832391312644 C-105.83151174968356 55.116739254557174, -105.92828270875498 55.047646117801705, -106.07106356344833 54.94570254698197 C-106.13468818368811 54.891815242445304, -106.19831280392789 54.83792793790864, -106.3864078581287 54.67861955336566 C-106.4497969443007 54.61523046719367, -106.51318603047268 54.55184138102168, -106.67861955336566 54.386407858128706 C-106.73616897409111 54.318459385475286, -106.79371839481657 54.250510912821866, -106.94570254698196 54.07106356344834 C-107.00936931306616 53.98189270937715, -107.07303607915034 53.89272185530596, -107.18583239131264 53.734740790612136 C-107.25059130126364 53.62606131702129, -107.31535021121464 53.51738184343044, -107.39736875603245 53.379736965185366 C-107.45212485484193 53.26773157483585, -107.50688095365142 53.15572618448633, -107.57886663327528 53.008477123264846 C-107.63251157855817 52.870996911023504, -107.68615652384106 52.73351669878216, -107.72908620850318 52.62349734602342 C-107.76563063795642 52.50074677129033, -107.80217506740966 52.37799619655724, -107.84700132969665 52.227427435703994 C-107.86420192329665 52.14539404324013, -107.88140251689663 52.06336065077627, -107.93180651701361 51.82297295140367 C-107.95075510150609 51.670958476848355, -107.96970368599858 51.51894400229305, -107.98292246503335 51.41289672736166 C-107.98839438835587 51.280597819079304, -107.99386631167839 51.14829891079694, -108 51 C-108 51, -108 51, -108 51 C-108 27.728243364480264, -108 4.456486728960527, -108 -51 C-108 -51, -108 -51, -108 -51 C-107.99540546099192 -51.111085711367515, -107.99081092198384 -51.22217142273503, -107.98292246503335 -51.41289672736166 C-107.96980553093167 -51.5181269542441, -107.95668859682998 -51.62335718112654, -107.93180651701361 -51.82297295140367 C-107.90035938422868 -51.972951204805995, -107.86891225144375 -52.12292945820831, -107.84700132969665 -52.227427435703994 C-107.81934723344035 -52.32031590762629, -107.79169313718407 -52.41320437954859, -107.72908620850318 -52.62349734602342 C-107.69217490345531 -52.71809291370133, -107.65526359840744 -52.81268848137923, -107.57886663327528 -53.008477123264846 C-107.52667163260928 -53.11524370362753, -107.47447663194326 -53.222010283990215, -107.39736875603245 -53.379736965185366 C-107.3289882160076 -53.49449431825667, -107.26060767598274 -53.609251671327975, -107.18583239131264 -53.734740790612136 C-107.0983267116511 -53.857300120564304, -107.01082103198956 -53.97985945051647, -106.94570254698196 -54.07106356344834 C-106.86190651095725 -54.1700013562274, -106.77811047493256 -54.26893914900646, -106.67861955336566 -54.386407858128706 C-106.60695682738512 -54.45807058410925, -106.53529410140457 -54.529733310089796, -106.3864078581287 -54.67861955336566 C-106.31937527949994 -54.73539325142206, -106.25234270087115 -54.79216694947847, -106.07106356344833 -54.94570254698197 C-105.98860237353308 -55.00457870493788, -105.90614118361782 -55.063454862893785, -105.73474079061214 -55.185832391312644 C-105.61569863631756 -55.25676611868197, -105.49665648202297 -55.327699846051296, -105.37973696518537 -55.39736875603245 C-105.25443444687998 -55.458625424590956, -105.1291319285746 -55.51988209314947, -105.00847712326485 -55.57886663327528 C-104.89037967608037 -55.62494840016359, -104.77228222889588 -55.671030167051896, -104.62349734602341 -55.729086208503176 C-104.51830452510059 -55.760403468170274, -104.41311170417778 -55.79172072783737, -104.227427435704 -55.84700132969665 C-104.12311583252199 -55.86887317285964, -104.01880422933998 -55.89074501602263, -103.82297295140367 -55.93180651701361 C-103.66519035728228 -55.95147409686019, -103.5074077631609 -55.97114167670676, -103.41289672736167 -55.98292246503335 C-103.25218464194809 -55.98956956605483, -103.09147255653453 -55.99621666707632, -103 -56 C-103 -56, -103 -56, -103 -56"></path><path style="" stroke-dasharray="0 0" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-103 -56 C-48.83576924883076 -56, 5.3284615023384845 -56, 103 -56 M-103 -56 C-57.84802753065632 -56, -12.696055061312634 -56, 103 -56 M103 -56 C103 -56, 103 -56, 103 -56 M103 -56 C103 -56, 103 -56, 103 -56 M103 -56 C103.08408386468822 -55.996522265631604, 103.16816772937645 -55.99304453126321, 103.41289672736166 -55.98292246503335 M103 -56 C103.09951926298245 -55.995883852835796, 103.19903852596491 -55.99176770567159, 103.41289672736166 -55.98292246503335 M103.41289672736166 -55.98292246503335 C103.54432604675972 -55.96653981745529, 103.67575536615777 -55.95015716987724, 103.82297295140367 -55.93180651701361 M103.41289672736166 -55.98292246503335 C103.54441794764223 -55.96652836202223, 103.67593916792282 -55.950134259011115, 103.82297295140367 -55.93180651701361 M103.82297295140367 -55.93180651701361 C103.96593401088938 -55.901830735067, 104.10889507037508 -55.87185495312038, 104.227427435704 -55.84700132969665 M103.82297295140367 -55.93180651701361 C103.95450007211494 -55.90422817991475, 104.08602719282622 -55.876649842815894, 104.227427435704 -55.84700132969665 M104.227427435704 -55.84700132969665 C104.32680052650288 -55.81741667875594, 104.42617361730176 -55.78783202781522, 104.62349734602341 -55.729086208503176 M104.227427435704 -55.84700132969665 C104.34235821171585 -55.81278495519002, 104.45728898772771 -55.778568580683384, 104.62349734602341 -55.729086208503176 M104.62349734602341 -55.729086208503176 C104.76384860960094 -55.67432097551253, 104.90419987317847 -55.61955574252189, 105.00847712326485 -55.57886663327529 M104.62349734602341 -55.729086208503176 C104.77175851954638 -55.671234519074204, 104.92001969306934 -55.61338282964523, 105.00847712326485 -55.57886663327529 M105.00847712326485 -55.57886663327529 C105.10088645916842 -55.533690461736896, 105.19329579507198 -55.4885142901985, 105.37973696518537 -55.39736875603244 M105.00847712326485 -55.57886663327529 C105.1247890044466 -55.522005219384134, 105.24110088562833 -55.46514380549298, 105.37973696518537 -55.39736875603244 M105.37973696518537 -55.39736875603244 C105.46332457792471 -55.347561349835544, 105.54691219066403 -55.29775394363864, 105.73474079061214 -55.185832391312644 M105.37973696518537 -55.39736875603244 C105.46754349953459 -55.345047418219956, 105.55535003388381 -55.292726080407476, 105.73474079061214 -55.185832391312644 M105.73474079061214 -55.185832391312644 C105.86597476293521 -55.09213313604341, 105.99720873525828 -54.99843388077417, 106.07106356344833 -54.94570254698197 M105.73474079061214 -55.185832391312644 C105.85534570437422 -55.099722137989694, 105.9759506181363 -55.013611884666744, 106.07106356344833 -54.94570254698197 M106.07106356344833 -54.94570254698197 C106.18796008621217 -54.84669624254019, 106.30485660897601 -54.747689938098404, 106.3864078581287 -54.67861955336566 M106.07106356344833 -54.94570254698197 C106.18645184022618 -54.84797366172881, 106.30184011700405 -54.75024477647565, 106.3864078581287 -54.67861955336566 M106.3864078581287 -54.67861955336566 C106.44491526654774 -54.620112144946624, 106.50342267496677 -54.5616047365276, 106.67861955336566 -54.386407858128706 M106.3864078581287 -54.67861955336566 C106.44907498565514 -54.615952425839225, 106.51174211318158 -54.55328529831279, 106.67861955336566 -54.386407858128706 M106.67861955336566 -54.386407858128706 C106.73278249568658 -54.32245779297203, 106.78694543800749 -54.258507727815356, 106.94570254698196 -54.07106356344834 M106.67861955336566 -54.386407858128706 C106.7478887984282 -54.304621815028305, 106.81715804349074 -54.222835771927905, 106.94570254698196 -54.07106356344834 M106.94570254698196 -54.07106356344834 C106.99659338811539 -53.99978650561463, 107.0474842292488 -53.92850944778092, 107.18583239131264 -53.734740790612136 M106.94570254698196 -54.07106356344834 C107.01158356878497 -53.97879145128406, 107.077464590588 -53.88651933911977, 107.18583239131264 -53.734740790612136 M107.18583239131264 -53.734740790612136 C107.24355709383538 -53.63786624025132, 107.30128179635811 -53.5409916898905, 107.39736875603245 -53.379736965185366 M107.18583239131264 -53.734740790612136 C107.2463841078859 -53.63312189852171, 107.30693582445915 -53.53150300643129, 107.39736875603245 -53.379736965185366 M107.39736875603245 -53.379736965185366 C107.45388132489394 -53.26413865791718, 107.51039389375543 -53.148540350648986, 107.57886663327528 -53.008477123264846 M107.39736875603245 -53.379736965185366 C107.46146200430105 -53.24863213034182, 107.52555525256966 -53.11752729549828, 107.57886663327528 -53.008477123264846 M107.57886663327528 -53.008477123264846 C107.62132569610927 -52.899663870884744, 107.66378475894324 -52.79085061850464, 107.72908620850318 -52.62349734602342 M107.57886663327528 -53.008477123264846 C107.62446412290129 -52.89162077233751, 107.67006161252728 -52.774764421410175, 107.72908620850318 -52.62349734602342 M107.72908620850318 -52.62349734602342 C107.77379873791897 -52.473310607150395, 107.81851126733476 -52.32312386827737, 107.84700132969665 -52.227427435703994 M107.72908620850318 -52.62349734602342 C107.76193575510673 -52.513157664007934, 107.79478530171029 -52.40281798199245, 107.84700132969665 -52.227427435703994 M107.84700132969665 -52.227427435703994 C107.86609482573229 -52.13636637756705, 107.88518832176793 -52.04530531943011, 107.93180651701361 -51.82297295140367 M107.84700132969665 -52.227427435703994 C107.8651166292103 -52.14103161070149, 107.88323192872396 -52.05463578569899, 107.93180651701361 -51.82297295140367 M107.93180651701361 -51.82297295140367 C107.94971856318878 -51.67927407571144, 107.96763060936395 -51.53557520001921, 107.98292246503335 -51.41289672736166 M107.93180651701361 -51.82297295140367 C107.95185724795782 -51.662116538612416, 107.97190797890201 -51.50126012582116, 107.98292246503335 -51.41289672736166 M107.98292246503335 -51.41289672736166 C107.98886062845578 -51.269325172775574, 107.99479879187821 -51.125753618189485, 108 -51 M107.98292246503335 -51.41289672736166 C107.98722681987952 -51.30882702216969, 107.99153117472568 -51.20475731697772, 108 -51 M108 -51 C108 -51, 108 -51, 108 -51 M108 -51 C108 -51, 108 -51, 108 -51 M108 -51 C108 -14.949788953361086, 108 21.100422093277828, 108 51 M108 -51 C108 -11.864779504864963, 108 27.270440990270075, 108 51 M108 51 C108 51, 108 51, 108 51 M108 51 C108 51, 108 51, 108 51 M108 51 C107.9945351636594 51.132127560857164, 107.98907032731883 51.264255121714335, 107.98292246503335 51.41289672736166 M108 51 C107.99571936117401 51.10349630469027, 107.99143872234802 51.20699260938054, 107.98292246503335 51.41289672736166 M107.98292246503335 51.41289672736166 C107.96674795918828 51.542656235688284, 107.95057345334322 51.672415744014906, 107.93180651701361 51.82297295140367 M107.98292246503335 51.41289672736166 C107.9655003527575 51.55266512242607, 107.94807824048166 51.69243351749048, 107.93180651701361 51.82297295140367 M107.93180651701361 51.82297295140367 C107.90675052024152 51.9424704794878, 107.88169452346942 52.061968007571934, 107.84700132969665 52.227427435703994 M107.93180651701361 51.82297295140367 C107.91170751357278 51.91882949424972, 107.89160851013193 52.014686037095764, 107.84700132969665 52.227427435703994 M107.84700132969665 52.227427435703994 C107.80673524661728 52.36267882460765, 107.7664691635379 52.49793021351131, 107.72908620850318 52.62349734602342 M107.84700132969665 52.227427435703994 C107.82264934937878 52.309224295707864, 107.79829736906089 52.39102115571174, 107.72908620850318 52.62349734602342 M107.72908620850318 52.62349734602342 C107.69698427503022 52.7057675506801, 107.66488234155726 52.78803775533678, 107.57886663327528 53.008477123264846 M107.72908620850318 52.62349734602342 C107.6872491042057 52.73071665528076, 107.64541199990823 52.8379359645381, 107.57886663327528 53.008477123264846 M107.57886663327528 53.008477123264846 C107.52915679910119 53.11016021431652, 107.47944696492709 53.2118433053682, 107.39736875603245 53.379736965185366 M107.57886663327528 53.008477123264846 C107.52287693599799 53.12300587961243, 107.46688723872069 53.23753463596001, 107.39736875603245 53.379736965185366 M107.39736875603245 53.379736965185366 C107.3228129322453 53.50485778158656, 107.24825710845815 53.62997859798776, 107.18583239131264 53.734740790612136 M107.39736875603245 53.379736965185366 C107.32727246955352 53.49737371232902, 107.25717618307459 53.61501045947267, 107.18583239131264 53.734740790612136 M107.18583239131264 53.734740790612136 C107.13163312337315 53.810651588496974, 107.07743385543365 53.886562386381804, 106.94570254698196 54.07106356344834 M107.18583239131264 53.734740790612136 C107.10095776157677 53.85361510586346, 107.01608313184089 53.97248942111479, 106.94570254698196 54.07106356344834 M106.94570254698196 54.07106356344834 C106.87869314852936 54.15018141069828, 106.81168375007677 54.22929925794822, 106.67861955336566 54.386407858128706 M106.94570254698196 54.07106356344834 C106.88270997258937 54.14543875549247, 106.81971739819677 54.2198139475366, 106.67861955336566 54.386407858128706 M106.67861955336566 54.386407858128706 C106.61894617575496 54.44608123573941, 106.55927279814425 54.50575461335011, 106.3864078581287 54.67861955336566 M106.67861955336566 54.386407858128706 C106.61306049258295 54.45196691891143, 106.54750143180021 54.51752597969415, 106.3864078581287 54.67861955336566 M106.3864078581287 54.67861955336566 C106.27059209764012 54.776710498853014, 106.15477633715153 54.87480144434037, 106.07106356344833 54.94570254698197 M106.3864078581287 54.67861955336566 C106.31412193343306 54.73984260857776, 106.24183600873741 54.801065663789856, 106.07106356344833 54.94570254698197 M106.07106356344833 54.94570254698197 C105.99661010974005 54.998861291179054, 105.92215665603175 55.05202003537614, 105.73474079061214 55.185832391312644 M106.07106356344833 54.94570254698197 C105.95864832702001 55.02596548307841, 105.8462330905917 55.10622841917485, 105.73474079061214 55.185832391312644 M105.73474079061214 55.185832391312644 C105.59919152285869 55.26660222331805, 105.46364225510523 55.347372055323454, 105.37973696518537 55.39736875603244 M105.73474079061214 55.185832391312644 C105.65442161813456 55.23369222984476, 105.57410244565699 55.281552068376875, 105.37973696518537 55.39736875603244 M105.37973696518537 55.39736875603244 C105.30142692868436 55.43565220009744, 105.22311689218336 55.47393564416243, 105.00847712326485 55.57886663327529 M105.37973696518537 55.39736875603244 C105.26280589479812 55.45453287308112, 105.14587482441088 55.511696990129806, 105.00847712326485 55.57886663327529 M105.00847712326485 55.57886663327529 C104.8968411542039 55.62242712357598, 104.78520518514296 55.66598761387668, 104.62349734602341 55.729086208503176 M105.00847712326485 55.57886663327529 C104.86221885765958 55.63593678560958, 104.71596059205432 55.69300693794388, 104.62349734602341 55.729086208503176 M104.62349734602341 55.729086208503176 C104.49461649436395 55.76745570047162, 104.36573564270448 55.80582519244007, 104.227427435704 55.84700132969665 M104.62349734602341 55.729086208503176 C104.51514130378372 55.76134519995858, 104.40678526154402 55.793604191414, 104.227427435704 55.84700132969665 M104.227427435704 55.84700132969665 C104.13891192747965 55.86556108004386, 104.0503964192553 55.88412083039106, 103.82297295140367 55.93180651701361 M104.227427435704 55.84700132969665 C104.13010821065494 55.86740702534397, 104.03278898560588 55.8878127209913, 103.82297295140367 55.93180651701361 M103.82297295140367 55.93180651701361 C103.71878426625392 55.944793623073714, 103.61459558110417 55.957780729133816, 103.41289672736166 55.98292246503335 M103.82297295140367 55.93180651701361 C103.7119353126632 55.94564734424848, 103.60089767392272 55.95948817148334, 103.41289672736166 55.98292246503335 M103.41289672736166 55.98292246503335 C103.31664865150651 55.98690331489717, 103.22040057565137 55.990884164760985, 103 56 M103.41289672736166 55.98292246503335 C103.30177951746582 55.987518306830204, 103.19066230756997 55.99211414862705, 103 56 M103 56 C103 56, 103 56, 103 56 M103 56 C103 56, 103 56, 103 56 M103 56 C30.004126765328195 56, -42.99174646934361 56, -103 56 M103 56 C39.15981711485496 56, -24.68036577029008 56, -103 56 M-103 56 C-103 56, -103 56, -103 56 M-103 56 C-103 56, -103 56, -103 56 M-103 56 C-103.09325759730162 55.99614283724407, -103.18651519460323 55.992285674488144, -103.41289672736166 55.98292246503335 M-103 56 C-103.11734175696758 55.9951467090319, -103.23468351393514 55.9902934180638, -103.41289672736166 55.98292246503335 M-103.41289672736166 55.98292246503335 C-103.52234209096908 55.96928011468683, -103.63178745457648 55.95563776434032, -103.82297295140367 55.93180651701361 M-103.41289672736166 55.98292246503335 C-103.53511430528224 55.967688059832994, -103.65733188320281 55.95245365463264, -103.82297295140367 55.93180651701361 M-103.82297295140367 55.93180651701361 C-103.95463418377692 55.90420005965634, -104.08629541615016 55.87659360229907, -104.227427435704 55.84700132969665 M-103.82297295140367 55.93180651701361 C-103.98053800654607 55.898768599189374, -104.13810306168847 55.86573068136514, -104.227427435704 55.84700132969665 M-104.227427435704 55.84700132969665 C-104.3295623594164 55.8165944454728, -104.4316972831288 55.786187561248944, -104.62349734602341 55.729086208503176 M-104.227427435704 55.84700132969665 C-104.30941456716404 55.822592703111965, -104.39140169862408 55.798184076527285, -104.62349734602341 55.729086208503176 M-104.62349734602341 55.729086208503176 C-104.73999732515765 55.68362777558236, -104.85649730429188 55.63816934266154, -105.00847712326485 55.57886663327529 M-104.62349734602341 55.729086208503176 C-104.70648984739455 55.696702433977656, -104.78948234876567 55.664318659452135, -105.00847712326485 55.57886663327529 M-105.00847712326485 55.57886663327529 C-105.12915179690302 55.519872380115565, -105.24982647054117 55.46087812695584, -105.37973696518537 55.39736875603245 M-105.00847712326485 55.57886663327529 C-105.10289027444675 55.53271085613905, -105.19730342562865 55.4865550790028, -105.37973696518537 55.39736875603245 M-105.37973696518537 55.39736875603245 C-105.47408942119073 55.3411468955447, -105.5684418771961 55.284925035056965, -105.73474079061214 55.185832391312644 M-105.37973696518537 55.39736875603245 C-105.51324038657035 55.31781798385842, -105.64674380795532 55.23826721168439, -105.73474079061214 55.185832391312644 M-105.73474079061214 55.185832391312644 C-105.80930937759939 55.132591443534395, -105.88387796458665 55.079350495756145, -106.07106356344833 54.94570254698197 M-105.73474079061214 55.185832391312644 C-105.8265899098534 55.12025338065178, -105.91843902909467 55.05467436999093, -106.07106356344833 54.94570254698197 M-106.07106356344833 54.94570254698197 C-106.16304276420735 54.8678001377627, -106.25502196496635 54.78989772854344, -106.3864078581287 54.67861955336566 M-106.07106356344833 54.94570254698197 C-106.1465296721132 54.881786013343024, -106.22199578077807 54.817869479704086, -106.3864078581287 54.67861955336566 M-106.3864078581287 54.67861955336566 C-106.46397236201142 54.60105504948295, -106.54153686589412 54.52349054560025, -106.67861955336566 54.386407858128706 M-106.3864078581287 54.67861955336566 C-106.49723623567326 54.567791175821114, -106.6080646132178 54.456962798276564, -106.67861955336566 54.386407858128706 M-106.67861955336566 54.386407858128706 C-106.77195498919794 54.276206917279964, -106.86529042503022 54.16600597643123, -106.94570254698196 54.07106356344834 M-106.67861955336566 54.386407858128706 C-106.75216673648436 54.29957086310981, -106.82571391960305 54.212733868090915, -106.94570254698196 54.07106356344834 M-106.94570254698196 54.07106356344834 C-107.00933627801379 53.98193897784678, -107.07297000904562 53.89281439224523, -107.18583239131264 53.734740790612136 M-106.94570254698196 54.07106356344834 C-107.019683522365 53.967446760433695, -107.09366449774804 53.86382995741905, -107.18583239131264 53.734740790612136 M-107.18583239131264 53.734740790612136 C-107.26619785011755 53.59987014865083, -107.34656330892247 53.46499950668953, -107.39736875603245 53.379736965185366 M-107.18583239131264 53.734740790612136 C-107.26826999189367 53.59639264605536, -107.35070759247472 53.45804450149857, -107.39736875603245 53.379736965185366 M-107.39736875603245 53.379736965185366 C-107.4682893482828 53.23466657500915, -107.53920994053314 53.089596184832935, -107.57886663327528 53.008477123264846 M-107.39736875603245 53.379736965185366 C-107.45733684802687 53.25707027237145, -107.51730494002129 53.13440357955753, -107.57886663327528 53.008477123264846 M-107.57886663327528 53.008477123264846 C-107.63087440590716 52.87519262494118, -107.68288217853905 52.74190812661751, -107.72908620850318 52.62349734602342 M-107.57886663327528 53.008477123264846 C-107.63254322342104 52.870915812190404, -107.68621981356681 52.73335450111596, -107.72908620850318 52.62349734602342 M-107.72908620850318 52.62349734602342 C-107.77236480125204 52.47812711551103, -107.8156433940009 52.33275688499863, -107.84700132969665 52.227427435703994 M-107.72908620850318 52.62349734602342 C-107.75556305595967 52.534563183114614, -107.78203990341615 52.44562902020581, -107.84700132969665 52.227427435703994 M-107.84700132969665 52.227427435703994 C-107.86513302929812 52.140953395096204, -107.88326472889958 52.054479354488414, -107.93180651701361 51.82297295140367 M-107.84700132969665 52.227427435703994 C-107.87181815465361 52.10907057031058, -107.89663497961057 51.990713704917155, -107.93180651701361 51.82297295140367 M-107.93180651701361 51.82297295140367 C-107.95141852819347 51.66563615531416, -107.97103053937332 51.50829935922465, -107.98292246503335 51.41289672736166 M-107.93180651701361 51.82297295140367 C-107.95182151091807 51.662403237986766, -107.97183650482252 51.50183352456986, -107.98292246503335 51.41289672736166 M-107.98292246503335 51.41289672736166 C-107.98660545684815 51.32385019516589, -107.99028844866297 51.23480366297011, -108 51 M-107.98292246503335 51.41289672736166 C-107.9896627143398 51.24993252405782, -107.99640296364625 51.08696832075398, -108 51 M-108 51 C-108 51, -108 51, -108 51 M-108 51 C-108 51, -108 51, -108 51 M-108 51 C-108 30.41390292341501, -108 9.827805846830017, -108 -51 M-108 51 C-108 27.590606292429793, -108 4.181212584859587, -108 -51 M-108 -51 C-108 -51, -108 -51, -108 -51 M-108 -51 C-108 -51, -108 -51, -108 -51 M-108 -51 C-107.99630656542311 -51.08929901490478, -107.99261313084621 -51.17859802980957, -107.98292246503335 -51.41289672736166 M-108 -51 C-107.99359471495961 -51.154865514031094, -107.98718942991923 -51.30973102806218, -107.98292246503335 -51.41289672736166 M-107.98292246503335 -51.41289672736166 C-107.97031872008378 -51.514009909019094, -107.9577149751342 -51.615123090676526, -107.93180651701361 -51.82297295140367 M-107.98292246503335 -51.41289672736166 C-107.97074460292788 -51.51059327614107, -107.9585667408224 -51.60828982492048, -107.93180651701361 -51.82297295140367 M-107.93180651701361 -51.82297295140367 C-107.90756659683922 -51.93857843172615, -107.88332667666482 -52.05418391204863, -107.84700132969665 -52.227427435703994 M-107.93180651701361 -51.82297295140367 C-107.9076817356646 -51.93802930948833, -107.88355695431557 -52.05308566757298, -107.84700132969665 -52.227427435703994 M-107.84700132969665 -52.227427435703994 C-107.81376455438146 -52.33906779603398, -107.78052777906628 -52.45070815636397, -107.72908620850318 -52.62349734602342 M-107.84700132969665 -52.227427435703994 C-107.82259328447167 -52.30941261441126, -107.79818523924666 -52.391397793118514, -107.72908620850318 -52.62349734602342 M-107.72908620850318 -52.62349734602342 C-107.69164497559203 -52.71945100242213, -107.65420374268088 -52.815404658820846, -107.57886663327528 -53.008477123264846 M-107.72908620850318 -52.62349734602342 C-107.69744797649663 -52.70457918566857, -107.66580974449009 -52.785661025313715, -107.57886663327528 -53.008477123264846 M-107.57886663327528 -53.008477123264846 C-107.53239312872296 -53.10354019626433, -107.48591962417065 -53.19860326926381, -107.39736875603245 -53.379736965185366 M-107.57886663327528 -53.008477123264846 C-107.52387827679834 -53.12095760426674, -107.4688899203214 -53.23343808526864, -107.39736875603245 -53.379736965185366 M-107.39736875603245 -53.379736965185366 C-107.32797400914413 -53.496196376986774, -107.25857926225581 -53.61265578878818, -107.18583239131264 -53.734740790612136 M-107.39736875603245 -53.379736965185366 C-107.34672257338141 -53.46473222644078, -107.29607639073038 -53.54972748769619, -107.18583239131264 -53.734740790612136 M-107.18583239131264 -53.734740790612136 C-107.10334973074866 -53.8502649445927, -107.02086707018468 -53.96578909857327, -106.94570254698196 -54.07106356344834 M-107.18583239131264 -53.734740790612136 C-107.12465510592632 -53.8204249100229, -107.06347782054 -53.90610902943367, -106.94570254698196 -54.07106356344834 M-106.94570254698196 -54.07106356344834 C-106.88660856266337 -54.14083569889014, -106.82751457834479 -54.21060783433194, -106.67861955336566 -54.386407858128706 M-106.94570254698196 -54.07106356344834 C-106.84693037504306 -54.1876836464884, -106.74815820310417 -54.304303729528456, -106.67861955336566 -54.386407858128706 M-106.67861955336566 -54.386407858128706 C-106.57090148351965 -54.49412592797472, -106.46318341367362 -54.60184399782074, -106.3864078581287 -54.67861955336566 M-106.67861955336566 -54.386407858128706 C-106.61908090580374 -54.44594650569063, -106.5595422582418 -54.50548515325256, -106.3864078581287 -54.67861955336566 M-106.3864078581287 -54.67861955336566 C-106.29877869835272 -54.75283766580931, -106.21114953857673 -54.82705577825296, -106.07106356344833 -54.94570254698197 M-106.3864078581287 -54.67861955336566 C-106.30336790342946 -54.74895080737904, -106.22032794873022 -54.81928206139243, -106.07106356344833 -54.94570254698197 M-106.07106356344833 -54.94570254698197 C-105.99833843412809 -54.99762729128439, -105.92561330480784 -55.0495520355868, -105.73474079061214 -55.185832391312644 M-106.07106356344833 -54.94570254698197 C-105.96764677911045 -55.019540711774724, -105.86422999477256 -55.09337887656748, -105.73474079061214 -55.185832391312644 M-105.73474079061214 -55.185832391312644 C-105.59713193344552 -55.26782947222657, -105.45952307627891 -55.349826553140495, -105.37973696518537 -55.39736875603245 M-105.73474079061214 -55.185832391312644 C-105.6510970768695 -55.23567322645156, -105.56745336312686 -55.28551406159048, -105.37973696518537 -55.39736875603245 M-105.37973696518537 -55.39736875603245 C-105.26615490748003 -55.452895640544796, -105.1525728497747 -55.508422525057135, -105.00847712326485 -55.57886663327528 M-105.37973696518537 -55.39736875603245 C-105.28999759481492 -55.44123966095739, -105.20025822444447 -55.48511056588234, -105.00847712326485 -55.57886663327528 M-105.00847712326485 -55.57886663327528 C-104.89331844726357 -55.62380168808953, -104.77815977126227 -55.668736742903775, -104.62349734602341 -55.729086208503176 M-105.00847712326485 -55.57886663327528 C-104.88138183596303 -55.62845936827231, -104.7542865486612 -55.67805210326933, -104.62349734602341 -55.729086208503176 M-104.62349734602341 -55.729086208503176 C-104.49384720687051 -55.767684727281434, -104.36419706771761 -55.806283246059685, -104.227427435704 -55.84700132969665 M-104.62349734602341 -55.729086208503176 C-104.49399604968097 -55.76764041485684, -104.36449475333852 -55.8061946212105, -104.227427435704 -55.84700132969665 M-104.227427435704 -55.84700132969665 C-104.07781372451632 -55.87837202601717, -103.92820001332863 -55.90974272233768, -103.82297295140367 -55.93180651701361 M-104.227427435704 -55.84700132969665 C-104.07216761136343 -55.879555891451055, -103.91690778702285 -55.91211045320546, -103.82297295140367 -55.93180651701361 M-103.82297295140367 -55.93180651701361 C-103.66616301997352 -55.95135285458216, -103.50935308854339 -55.97089919215071, -103.41289672736167 -55.98292246503335 M-103.82297295140367 -55.93180651701361 C-103.66455469776312 -55.95155333173662, -103.50613644412257 -55.971300146459626, -103.41289672736167 -55.98292246503335 M-103.41289672736167 -55.98292246503335 C-103.27768428438608 -55.98851489304216, -103.14247184141048 -55.99410732105096, -103 -56 M-103.41289672736167 -55.98292246503335 C-103.27287013946727 -55.98871400754885, -103.13284355157288 -55.99450555006435, -103 -56 M-103 -56 C-103 -56, -103 -56, -103 -56 M-103 -56 C-103 -56, -103 -56, -103 -56"></path></g><g transform="translate(-100, -48)" style="" class="label"><rect></rect><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NullInjector<br>always throws an error unless<br>you use @Optional()</p></span></div></foreignObject></g></g></g></g></g></svg><p>虽然 <code>root</code> 这个名称是一个特殊的别名，但其他的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级没有别名。
每当创建动态加载的组件时，例如使用 Router，你都可以选择创建 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级，它将创建子 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级。</p>
<p>所有请求都会向上转发到根注入器，无论你是通过传递给 <a href="/api/platform-browser/bootstrapApplication"><code>bootstrapApplication()</code></a> 方法的 <code>ApplicationConfig</code> 实例来配置它，还是在自己的服务中将所有提供者注册为 <code>root</code>。</p>

    <div class="docs-callout docs-callout-helpful">
      <h3>@Injectable() 与 ApplicationConfig</h3>
      <p>如果你在 <a href="/api/platform-browser/bootstrapApplication"><code>bootstrapApplication</code></a> 的 <code>ApplicationConfig</code> 中配置了一个应用范围的提供者，它将覆盖在 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 元数据中为 <code>root</code> 配置的提供者。
你可以这样做来配置一个被多个应用共享的服务的非默认提供者。</p>
<p>这是一个示例，其中组件路由器配置通过在 <code>ApplicationConfig</code> 的 <code>providers</code> 列表中列出其提供者，包含了非默认的 <a href="guide/routing#location-strategy">位置策略</a>。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  { provide: LocationStrategy, useClass: HashLocationStrategy }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span></code></pre>
  </div><p>对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用，请在 <code>AppModule</code> 的 <code>providers</code> 中配置应用范围的提供者。</p>

    </div>
    
  <h3 id="elementinjector">
    <a href="#elementinjector" class="docs-anchor" tabindex="-1" aria-label="Link to <code>ElementInjector</code>"><code>ElementInjector</code></a>
  </h3>
  <p>Angular 为每个 DOM 元素隐式地创建 <code>ElementInjector</code> 分层结构。</p>
<p>通过在 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器的 <code>providers</code> 或 <code>viewProviders</code> 属性中提供服务，可以配置一个 <code>ElementInjector</code>。
例如，下面的 <code>TestComponent</code> 通过如下方式提供服务来配置 <code>ElementInjector</code>：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  …</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: ItemService, useValue: { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'lamp'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> TestComponent</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-helpful">
    <p><strong>有帮助：</strong> 请参阅 <a href="#resolution-rules">解析规则</a> 部分，以了解 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 树、<code>ModuleInjector</code> 和 <code>ElementInjector</code> 树之间的关系。</p>

    </div>
    <p>当你在组件中提供服务时，该服务通过该组件实例的 <code>ElementInjector</code> 可用。根据<a href="#resolution-rules">解析规则</a>部分中描述的可见性规则，它也可能在子组件/指令中可见。</p>
<p>当组件实例被销毁时，该服务实例也会被销毁。</p>

  <h4 id="directive-and-component">
    <a href="#directive-and-component" class="docs-anchor" tabindex="-1" aria-label="Link to <code>@Directive()</code> and <code>@Component()</code>"><code>@Directive()</code> 和 <code>@Component()</code></a>
  </h4>
  <p>组件是一种特殊的指令，这意味着就像 <a href="/api/core/Directive"><code>@Directive()</code></a> 有一个 <code>providers</code> 属性一样，<a href="/api/core/Component"><code>@Component()</code></a> 也有。
这意味着指令和组件都可以使用 <code>providers</code> 属性来配置提供者。
当你使用 <code>providers</code> 属性为组件或指令配置提供者时，该提供者属于该组件或指令的 <code>ElementInjector</code>。
同一元素上的组件和指令共享一个注入器。</p>

  <h2 id="resolution-rules">
    <a href="#resolution-rules" class="docs-anchor" tabindex="-1" aria-label="Link to Resolution rules">解析规则</a>
  </h2>
  <p>当为组件/指令解析令牌时，Angular 分两个阶段解析它：</p>

    <ol class="docs-ordered-list">
      <li>相对于 <code>ElementInjector</code> 分层结构中的父注入器。</li>
<li>针对其在 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级中的父级。</li>

    </ol>
    <p>当组件声明依赖时，Angular 尝试使用自己的 <code>ElementInjector</code> 来满足该依赖。
如果组件的注入器缺少提供者，它会将请求传递给父组件的 <code>ElementInjector</code>。</p>
<p>请求会一直向上转发，直到 Angular 找到可以处理该请求的注入器，或者耗尽了祖先 <code>ElementInjector</code> 分层结构。</p>
<p>如果在任何 <code>ElementInjector</code> 层级中都找不到提供者，Angular 会回到请求发起的元素，并在 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级中查找。
如果 Angular 仍然找不到提供者，它将抛出错误。</p>
<p>如果你在不同的层级为同一个 DI 令牌注册了提供者，Angular 遇到的第一个提供者就是它用来求解依赖的提供者。
例如，如果在一个需要服务的组件中本地注册了一个提供者，
Angular 就不会再查找同一服务的另一个提供者。</p>

    <div class="docs-alert docs-alert-helpful">
    <p><strong>有帮助：</strong> 对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用程序，如果 Angular 在 <code>ElementInjector</code> 层级中找不到提供者，它将搜索 <code>ModuleInjector</code> 层级。</p>

    </div>
    
  <h2 id="resolution-modifiers">
    <a href="#resolution-modifiers" class="docs-anchor" tabindex="-1" aria-label="Link to Resolution modifiers">解析修饰符</a>
  </h2>
  <p>Angular 的解析行为可以使用 <code>optional</code>、<code>self</code>、<code>skipSelf</code> 和 <code>host</code> 进行修改。
从 <code>@angular/core</code> 导入它们中的每一个，并在注入服务时在 <code>inject</code> 配置中使用。</p>

  <h3 id="types-of-modifiers">
    <a href="#types-of-modifiers" class="docs-anchor" tabindex="-1" aria-label="Link to Types of modifiers">修饰符的类型</a>
  </h3>
  <p>解析修饰符分为三类：</p>

  <ul class="docs-list">
    <li>如果 Angular 找不到你要查找的内容，该怎么办？那就是 <code>optional</code></li>
<li>从哪里开始查找？那就是 <code>skipSelf</code></li>
<li>在哪里停止查找？<code>host</code> 和 <code>self</code></li>

  </ul>
  <p>默认情况下，Angular 始终从当前 <a href="/api/core/Injector"><code>Injector</code></a> 开始，并一直向上搜索。
修饰符允许你更改起始的（或<em>自身</em>的）位置和结束的位置。</p>
<p>此外，你可以组合除以下之外的所有修饰符：</p>

  <ul class="docs-list">
    <li><code>host</code> 和 <code>self</code></li>
<li><code>skipSelf</code> 和 <code>self</code>。</li>

  </ul>
  
  <h3 id="optional">
    <a href="#optional" class="docs-anchor" tabindex="-1" aria-label="Link to <code>optional</code>"><code>optional</code></a>
  </h3>
  <p><code>optional</code> 允许 Angular 将你注入的服务视为可选的。
这样，如果它在运行时无法解析，Angular 会将服务解析为 <code>null</code>，而不是抛出错误。
在下面的示例中，服务 <code>OptionalService</code> 未在服务 <code>ApplicationConfig</code>、<a href="/api/core/NgModule"><code>@NgModule()</code></a> 或组件类中提供，因此它在应用程序的任何地方都不可用。</p>
<div class="docs-code" header="src/app/optional/optional.component.ts">
    <div class="docs-code-header"><h3>src/app/optional/optional.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> OptionalComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> optional</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(OptionalService, {optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="self">
    <a href="#self" class="docs-anchor" tabindex="-1" aria-label="Link to <code>self</code>"><code>self</code></a>
  </h3>
  <p>使用 <code>self</code>，以便 Angular 只查看当前组件或指令的 <code>ElementInjector</code>。</p>
<p><code>self</code> 的一个好的用例是注入一个服务，但前提是它在当前宿主元素上可用。
为了避免在这种情况下出错，请将 <code>self</code> 与 <code>optional</code> 结合使用。</p>
<p>例如，在下面的 <code>SelfNoDataComponent</code> 中，请注意作为属性注入的 <code>LeafService</code>。</p>
<div class="docs-code" header="src/app/self-no-data/self-no-data.component.ts">
    <div class="docs-code-header"><h3>src/app/self-no-data/self-no-data.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-self-no-data'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self-no-data.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self-no-data.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SelfNoDataComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> leaf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(LeafService, {optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, self: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>在此示例中，有一个父提供者，注入服务将返回该值；但是，使用 <code>self</code> 和 <code>optional</code> 注入服务将返回 <code>null</code>，因为 <code>self</code> 告诉注入器停止在当前宿主元素中搜索。</p>
<p>另一个示例显示了带有 <code>FlowerService</code> 提供者的组件类。
在这种情况下，注入器不会在当前的 <code>ElementInjector</code> 之外查找，因为它找到了 <code>FlowerService</code> 并返回了郁金香 <code><span class="docs-emoji">🌷</span></code>。</p>
<div class="docs-code" path="adev/src/content/examples/resolution-modifiers/src/app/self/self.component.ts" visiblelines="3,4,5,6,7,8,9,10,11" header="src/app/self/self.component.ts">
    <div class="docs-code-header"><h3>src/app/self/self.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {<a href="/api/core/Component">Component</a>, Self} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {FlowerService} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '../flower.service'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-self'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{provide: FlowerService, useValue: {emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌷'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}}],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SelfComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Self">Self</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {}</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// This component provides the FlowerService so the injector</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// doesn't have to look further up the injector tree</span></span><span class="line"></span></code></pre>
  </div>
  <h3 id="skipself">
    <a href="#skipself" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipSelf</code>"><code>skipSelf</code></a>
  </h3>
  <p><code>skipSelf</code> 与 <code>self</code> 相反。
使用 <code>skipSelf</code>，Angular 会在其父 <code>ElementInjector</code> 中开始搜索服务，而不是在当前的 <code>ElementInjector</code> 中。
因此，如果父 <code>ElementInjector</code> 对 <code>emoji</code> 使用 fern <code><span class="docs-emoji">🌿</span></code> 值，但你在组件的 <code>providers</code> 数组中使用了 maple leaf <code><span class="docs-emoji">🍁</span></code>，则 Angular 将忽略 maple leaf <code><span class="docs-emoji">🍁</span></code> 并使用 fern <code><span class="docs-emoji">🌿</span></code>。</p>
<p>要在代码中看到这一点，假设以下 <code>emoji</code> 值是父组件正在使用的值，如下服务所示：</p>
<div class="docs-code" header="src/app/leaf.service.ts">
    <div class="docs-code-header"><h3>src/app/leaf.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> LeafService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '🌿'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>假设在子组件中，你有一个不同的值，枫叶 <code><span class="docs-emoji">🍁</span></code>，但你想使用父组件的值。
这时你就可以使用 <code>skipSelf</code>：</p>
<div class="docs-code" header="src/app/skipself/skipself.component.ts">
    <div class="docs-code-header"><h3>src/app/skipself/skipself.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-skipself'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./skipself.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./skipself.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // Angular would ignore this LeafService instance</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: LeafService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🍁'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SkipselfComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // Use skipSelf as inject option</span></span><span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> leaf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(LeafService, {skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>在这种情况下，你为 <code>emoji</code> 获取的值将是蕨类植物 <code><span class="docs-emoji">🌿</span></code>，而不是枫叶 <code><span class="docs-emoji">🍁</span></code>。</p>

  <h4 id="skipself-option-with-optional">
    <a href="#skipself-option-with-optional" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipSelf</code> option with <code>optional</code>">带有 <code>optional</code> 的 <code>skipSelf</code> 选项</a>
  </h4>
  <p>将 <code>skipSelf</code> 选项与 <code>optional</code> 结合使用，以防止值是 <code>null</code> 时出错。</p>
<p>在以下示例中，<code>Person</code> 服务在属性初始化期间被注入。
<code>skipSelf</code> 告诉 Angular 跳过当前的注入器，而 <code>optional</code> 将防止在 <code>Person</code> 服务为 <code>null</code> 时出错。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Person, {optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="host">
    <a href="#host" class="docs-anchor" tabindex="-1" aria-label="Link to <code>host</code>"><code>host</code></a>
  </h3>
  <!-- TODO: Remove ambiguity between host and self. -->

<p>在搜索提供者时，<code>host</code> 允许你将组件指定为注入器树中的最后一站。</p>
<p>即使树的更上方有服务实例，Angular 也不会继续查找。
按如下方式使用 <code>host</code>：</p>
<div class="docs-code" header="src/app/host/host.component.ts">
    <div class="docs-code-header"><h3>src/app/host/host.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-host'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./host.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./host.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  //  provide the service</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: FlowerService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌷'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HostComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // use host when injecting the service</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService, {host: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>由于 <code>HostComponent</code> 具有 <code>host</code> 选项，无论 <code>HostComponent</code> 的父组件可能有什么样的 <code>flower.emoji</code> 值，<code>HostComponent</code> 都将使用郁金香 <code><span class="docs-emoji">🌷</span></code>。</p>

  <h3 id="modifiers-with-constructor-injection">
    <a href="#modifiers-with-constructor-injection" class="docs-anchor" tabindex="-1" aria-label="Link to Modifiers with constructor injection">带有构造函数注入的修饰符</a>
  </h3>
  <p>与前面介绍的类似，构造函数注入的行为可以通过 <a href="/api/core/Optional"><code>@Optional()</code></a>、<a href="/api/core/Self"><code>@Self()</code></a>、<a href="/api/core/SkipSelf"><code>@SkipSelf()</code></a> 和 <a href="/api/core/Host"><code>@Host()</code></a> 进行修改。</p>
<p>从 <code>@angular/core</code> 导入它们中的每一个，并在注入服务时在组件类构造函数中使用。</p>
<div class="docs-code" header="src/app/self-no-data/self-no-data.component.ts">
    <div class="docs-code-header"><h3>src/app/self-no-data/self-no-data.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SelfNoDataComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Self">Self</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Optional">Optional</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> leaf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> LeafService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) { }</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h2 id="logical-structure-of-the-template">
    <a href="#logical-structure-of-the-template" class="docs-anchor" tabindex="-1" aria-label="Link to Logical structure of the template">模板的逻辑结构</a>
  </h2>
  <p>当你在组件类中提供服务时，服务在 <code>ElementInjector</code> 树中是可见的，这取决于你提供这些服务的位置和方式。</p>
<p>理解 Angular 模板的底层逻辑结构将为你配置服务奠定基础，进而控制它们的可视性。</p>
<p>组件在你的模板中使用，如下例所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 通常，你在单独的文件中声明组件及其模板。
为了理解注入系统的工作原理，从组合逻辑树的角度来看待它们很有用。
术语<em>逻辑</em>将其与渲染树（即应用的 DOM 树）区分开来。
为了标记组件模板所在的位置，本指南使用 <code>&lt;#VIEW&gt;</code> 伪元素，该伪元素实际上并不存在于渲染树中，仅出于心智模型目的而存在。</p>

    </div>
    <p>以下示例说明了 <code>&lt;app-root&gt;</code> 和 <code>&lt;app-child&gt;</code> 视图树如何组合成单个逻辑树：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">     &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">       …content goes here…</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">     &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>当你在组件类中配置服务时，理解 <code>&lt;#VIEW&gt;</code> 划界的概念尤为重要。</p>

  <h2 id="example-providing-services-in-component">
    <a href="#example-providing-services-in-component" class="docs-anchor" tabindex="-1" aria-label="Link to Example: Providing services in <code>@Component()</code>">范例：在 <code>@Component()</code> 中提供服务</a>
  </h2>
  <p>您如何使用 <a href="/api/core/Component"><code>@Component()</code></a>（或 <a href="/api/core/Directive"><code>@Directive()</code></a>）装饰器提供服务决定了它们的可见性。
以下各节将演示 <code>providers</code> 和 <code>viewProviders</code>，以及使用 <code>skipSelf</code> 和 <code>host</code> 修改服务可见性的方法。</p>
<p>组件类可以通过两种方式提供服务：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">数组</th>
<th align="left">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left">使用 <code>providers</code> 数组</td>
<td align="left"><code>@Component({ providers: [SomeService] })</code></td>
</tr>
<tr>
<td align="left">使用 <code>viewProviders</code> 数组</td>
<td align="left"><code>@Component({ viewProviders: [SomeService] })</code></td>
</tr>

      </tbody>
    </table>
  </div>
  <p>在下面的示例中，你将看到 Angular 应用的逻辑树。
为了说明注入器如何在模板上下文中工作，逻辑树将表示应用的 HTML 结构。
例如，逻辑树将显示 <code>&lt;child-component&gt;</code> 是 <code>&lt;parent-component&gt;</code> 的直接子组件。</p>
<p>在逻辑树中，您将看到特殊属性：<code>@Provide</code>、<a href="/api/core/Inject"><code>@Inject</code></a> 和 <code>@ApplicationConfig</code>。
这些不是真实属性，而是用于演示幕后发生的事情。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">Angular 服务属性（Attribute）</th>
<th align="left">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>@Inject(Token)=&gt;Value</code></td>
<td align="left">如果 <code>Token</code> 在逻辑树的这个位置被注入，它的值将是 <code>Value</code>。</td>
</tr>
<tr>
<td align="left"><code>@Provide(Token=Value)</code></td>
<td align="left">表明 <code>Token</code> 在逻辑树的这个位置通过 <code>Value</code> 提供。</td>
</tr>
<tr>
<td align="left"><code>@ApplicationConfig</code></td>
<td align="left">演示了在此位置应使用备用的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>。</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h3 id="example-app-structure">
    <a href="#example-app-structure" class="docs-anchor" tabindex="-1" aria-label="Link to Example app structure">范例应用结构</a>
  </h3>
  <p>此范例应用在 <code>root</code> 中提供了一个 <code>FlowerService</code>，其 <code>emoji</code> 值为红色芙蓉花 <code><span class="docs-emoji">🌺</span></code>。</p>
<div class="docs-code" header="src/app/flower.service.ts">
    <div class="docs-code-header"><h3>src/app/flower.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providedIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'root'</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '🌺'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>考虑一个仅包含 <code>AppComponent</code> 和 <code>ChildComponent</code> 的应用。
最基本的渲染视图看起来会像如下嵌套的 HTML 元素一样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- AppComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- ChildComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>但是，在幕后，Angular 在求解注入请求时使用如下逻辑视图表示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- AppComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- ChildComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>这里的 <code>&lt;#VIEW&gt;</code> 表示模板的一个实例。
请注意，每个组件都有自己的 <code>&lt;#VIEW&gt;</code>。</p>
<p>了解此结构可以帮助你了解如何提供和注入服务，并使你完全控制服务的可见性。</p>
<p>现在，假设 <code>&lt;app-root&gt;</code> 注入了 <code>FlowerService</code>：</p>
<div class="docs-code" header="src/app/app.component.ts">
    <div class="docs-code-header"><h3>src/app/app.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AppComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>向 <code>&lt;app-root&gt;</code> 模板添加一个绑定以可视化结果：</p>
<div class="docs-code" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>视图中的输出将是：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌺</span></span></code></pre>
  </div><p>在逻辑树中，这将表示为如下形式：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}} (🌺)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>当 <code>&lt;app-root&gt;</code> 请求 <code>FlowerService</code> 时，注入器的任务是求解 <code>FlowerService</code> 令牌。
令牌的求解分两个阶段进行：</p>

    <ol class="docs-ordered-list">
      <li><p>注入器确定逻辑树中的起始位置和搜索的结束位置。
 注入器从起始位置开始，并在逻辑树中的每个视图级别查找令牌。
 如果找到令牌，则返回它。</p>
</li>
<li><p>如果找不到令牌，注入器会查找最近的父 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 来委托处理该请求。</p>
</li>

    </ol>
    <p>在此范例中，约束条件为：</p>

    <ol class="docs-ordered-list">
      <li><p>从属于 <code>&lt;app-root&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 开始，到 <code>&lt;app-root&gt;</code> 结束。</p>

  <ul class="docs-list">
    <li>通常搜索的起点是注入点。
  然而，在本例中 <code>&lt;app-root&gt;</code> 是一个组件。<code><a href="/api/core/Component">@Component</a></code> 很特别，因为它们还包含自己的 <code>viewProviders</code>，这就是为什么搜索从属于 <code>&lt;app-root&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 开始。
  对于匹配在同一位置的指令，情况则不是这样。</li>
<li>结束位置恰好与组件本身相同，因为它是此应用中最顶层的组件。</li>

  </ul>
  </li>
<li><p>由 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 提供的 <code>ApplicationConfig</code> 在注入令牌在 <code>ElementInjector</code> 层级中找不到时，充当备用注入器。</p>
</li>

    </ol>
    
  <h3 id="using-the-providers-array">
    <a href="#using-the-providers-array" class="docs-anchor" tabindex="-1" aria-label="Link to Using the <code>providers</code> array">使用 <code>providers</code> 数组</a>
  </h3>
  <p>现在，在 <code>ChildComponent</code> 类中，为 <code>FlowerService</code> 添加一个提供者，以演示后续章节中更复杂的求解规则：</p>
<div class="docs-code" header="src/app/child.component.ts">
    <div class="docs-code-header"><h3>src/app/child.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // use the providers array to provide a service</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: FlowerService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌻'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // inject the service</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>现在 <code>FlowerService</code> 已在 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器中提供，当 <code>&lt;app-child&gt;</code> 请求该服务时，注入器只需查找 <code>&lt;app-child&gt;</code> 中的 <code>ElementInjector</code>。
它无需继续在注入器树中进一步搜索。</p>
<p>下一步是将绑定添加到 <code>ChildComponent</code> 模板。</p>
<div class="docs-code" header="src/app/child.component.html">
    <div class="docs-code-header"><h3>src/app/child.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>要渲染新值，请将 <code>&lt;app-child&gt;</code> 添加到 <code>AppComponent</code> 模板的底部，以便视图也显示向日葵：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Child</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> <a href="/api/core/Component">Component</a></span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌻</span></span></code></pre>
  </div><p>在逻辑树中，这表示为如下形式：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}} (🌺)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @Provide(FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"🌻"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">)</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">               @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌻"&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- search ends here --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- search starts here --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Child Component&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}} (🌻)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>当 <code>&lt;app-child&gt;</code> 请求 <code>FlowerService</code> 时，注入器从属于 <code>&lt;app-child&gt;</code> 的 <code>&lt;#VIEW&gt;</code>（因为 <code>&lt;#VIEW&gt;</code> 是从 <a href="/api/core/Component"><code>@Component()</code></a> 注入的，所以包含在内）开始搜索，并以 <code>&lt;app-child&gt;</code> 结束。
在这种情况下，<code>FlowerService</code> 在 <code>providers</code> 数组中被解析为 <code>&lt;app-child&gt;</code> 的向日葵 <code><span class="docs-emoji">🌻</span></code>。
注入器无需在注入器树中进一步查找。
它在找到 <code>FlowerService</code> 后立即停止，并且永远不会看到红色的芙蓉 <code><span class="docs-emoji">🌺</span></code>。</p>

  <h3 id="using-the-viewproviders-array">
    <a href="#using-the-viewproviders-array" class="docs-anchor" tabindex="-1" aria-label="Link to Using the <code>viewProviders</code> array">使用 <code>viewProviders</code> 数组</a>
  </h3>
  <p>使用 <code>viewProviders</code> 数组作为在 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器中提供服务的另一种方式。
使用 <code>viewProviders</code> 可以使服务在 <code>&lt;#VIEW&gt;</code> 中可见。</p>

    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 这些步骤与使用 <code>providers</code> 数组相同，唯一的区别是使用 <code>viewProviders</code> 数组。</p>

    </div>
    <p>有关分步说明，请继续阅读本节。
如果你可以自行建立，请跳至<a href="#visibility-of-provided-tokens">修改服务可用性</a>。</p>
<p>为了演示，我们正在构建一个 <code>AnimalService</code> 以演示 <code>viewProviders</code>。
首先，创建一个 <code>AnimalService</code>，其 <code>emoji</code> 属性为鲸鱼 <code><span class="docs-emoji">🐳</span></code>：</p>
<div class="docs-code" header="src/app/animal.service.ts">
    <div class="docs-code-header"><h3>src/app/animal.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Injectable">Injectable</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providedIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'root'</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '🐳'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>按照与 <code>FlowerService</code> 相同的模式，在 <code>AppComponent</code> 类中注入 <code>AnimalService</code>：</p>
<div class="docs-code" header="src/app/app.component.ts">
    <div class="docs-code-header"><h3>src/app/app.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AppComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService);</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 你可以保留所有与 <code>FlowerService</code> 相关的代码，因为它允许与 <code>AnimalService</code> 进行比较。</p>

    </div>
    <p>添加一个 <code>viewProviders</code> 数组，并在 <code>&lt;app-child&gt;</code> 类中也注入 <code>AnimalService</code>，但为 <code>emoji</code> 提供不同的值。
在这里，它的值为狗 <code><span class="docs-emoji">🐶</span></code>。</p>
<div class="docs-code" header="src/app/child.component.ts">
    <div class="docs-code-header"><h3>src/app/child.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // provide services</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: FlowerService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌻'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }],</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [{ provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🐶'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // inject services</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService); </span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService)</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>将绑定添加到 <code>ChildComponent</code> 和 <code>AppComponent</code> 模板。
在 <code>ChildComponent</code> 模板中，添加以下绑定：</p>
<div class="docs-code" header="src/app/child.component.html">
    <div class="docs-code-header"><h3>src/app/child.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>此外，将相同的绑定添加到 <code>AppComponent</code> 模板：</p>
<div class="docs-code" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;s</span></span></code></pre>
  </div><p>现在你应该在浏览器中看到这两个值：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">AppComponent</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐳</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Child</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> <a href="/api/core/Component">Component</a></span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐶</span></span></code></pre>
  </div><p>此 <code>viewProviders</code> 范例的逻辑树如下所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">         @<a href="/api/core/Inject">Inject</a>(AnimalService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            @<a href="/api/core/Inject">Inject</a>(AnimalService=&gt;"🐶")&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">       &lt;!-- ^^using viewProviders means AnimalService is available in &lt;#VIEW&gt;--&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">       &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐶)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>与 <code>FlowerService</code> 示例一样，<code>AnimalService</code> 在 <code>&lt;app-child&gt;</code> 的 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器中提供。
这意味着，由于注入器首先在组件的 <code>ElementInjector</code> 中查找，因此它会找到狗 <code><span class="docs-emoji">🐶</span></code> 的 <code>AnimalService</code> 值。
它不需要继续搜索 <code>ElementInjector</code> 树，也不需要搜索 <code>ModuleInjector</code>。</p>

  <h3 id="providers-vs-viewproviders">
    <a href="#providers-vs-viewproviders" class="docs-anchor" tabindex="-1" aria-label="Link to <code>providers</code> vs. <code>viewProviders</code>"><code>providers</code> 与 <code>viewProviders</code></a>
  </h3>
  <p><code>viewProviders</code> 字段在概念上类似于 <code>providers</code>，但有一个明显的区别。
<code>viewProviders</code> 中配置的提供者对于最终成为组件逻辑子项的投影内容不可见。</p>
<p>要查看使用 <code>providers</code> 和 <code>viewProviders</code> 之间的区别，请向范例添加另一个组件并将其命名为 <code>InspectorComponent</code>。
<code>InspectorComponent</code> 将是 <code>ChildComponent</code> 的子组件。
在 <code>inspector.component.ts</code> 中，在属性初始化期间注入 <code>FlowerService</code> 和 <code>AnimalService</code>：</p>
<div class="docs-code" header="src/app/inspector/inspector.component.ts">
    <div class="docs-code-header"><h3>src/app/inspector/inspector.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> InspectorComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>你不需要 <code>providers</code> 或 <code>viewProviders</code> 数组。
接下来，在 <code>inspector.component.html</code> 中，添加与先前组件相同的标记：</p>
<div class="docs-code" header="src/app/inspector/inspector.component.html">
    <div class="docs-code-header"><h3>src/app/inspector/inspector.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>请记住将 <code>InspectorComponent</code> 添加到 <code>ChildComponent</code> 的 <code>imports</code> 数组中。</p>
<div class="docs-code" header="src/app/child/child.component.ts">
    <div class="docs-code-header"><h3>src/app/child/child.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  ...</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  imports: [InspectorComponent]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
  </div><p>接下来，将以下内容添加到 <code>child.component.html</code>：</p>
<div class="docs-code" header="src/app/child/child.component.html">
    <div class="docs-code-header"><h3>src/app/child/child.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">...</span></span><span class="line"></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"container"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Content projection&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">ng-content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">ng-content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Inside the view&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p><code>&lt;ng-content&gt;</code> 允许你投影内容，而 <code>ChildComponent</code> 模板内的 <code>&lt;app-inspector&gt;</code> 使 <code>InspectorComponent</code> 成为 <code>ChildComponent</code> 的子组件。</p>
<p>接下来，将以下内容添加到 <code>app.component.html</code> 以利用内容投影。</p>
<div class="docs-code" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>现在，浏览器渲染以下内容，为简洁起见，省略了之前的示例：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">...</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Content</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> projection</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌻</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐳</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌻</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐶</span></span></code></pre>
  </div><p>这四个绑定演示了 <code>providers</code> 和 <code>viewProviders</code> 之间的区别。
请记住，小狗表情符号 <code><span class="docs-emoji">🐶</span></code> 在 <code>ChildComponent</code> 的 <code>&lt;#VIEW&gt;</code> 内部声明，并且对于投影内容是不可见的。
相反，投影内容看到的是鲸鱼 <code><span class="docs-emoji">🐳</span></code>。</p>
<p>然而，在接下来的输出部分中，尽管 <code>InspectorComponent</code> 是 <code>ChildComponent</code> 的实际子组件，但 <code>InspectorComponent</code> 位于 <code>&lt;#VIEW&gt;</code> 内部，因此当它请求 <code>AnimalService</code> 时，它会看到小狗 <code><span class="docs-emoji">🐶</span></code>。</p>
<p>逻辑树中的 <code>AnimalService</code> 看起来会像这样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">         @<a href="/api/core/Inject">Inject</a>(AnimalService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            @<a href="/api/core/Inject">Inject</a>(AnimalService=&gt;"🐶")&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        &lt;!-- ^^using viewProviders means AnimalService is available in &lt;#VIEW&gt;--&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐶)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"container"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Content projection&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @<a href="/api/core/Inject">Inject</a>(AnimalService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳"&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐳)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Inject(AnimalService) animal=&gt;"🐶"&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐶)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p><code>&lt;app-inspector&gt;</code> 的投影内容看到的是鲸鱼 <code><span class="docs-emoji">🐳</span></code>，而不是小狗 <code><span class="docs-emoji">🐶</span></code>，因为小狗 <code><span class="docs-emoji">🐶</span></code> 在 <code>&lt;app-child&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 内部。
只有当 <code>&lt;app-inspector&gt;</code> 也位于 <code>&lt;#VIEW&gt;</code> 中时，它才能看到小狗 <code><span class="docs-emoji">🐶</span></code>。</p>

  <h3 id="visibility-of-provided-tokens">
    <a href="#visibility-of-provided-tokens" class="docs-anchor" tabindex="-1" aria-label="Link to Visibility of provided tokens">所提供令牌的可见性</a>
  </h3>
  <p>可见性装饰器会影响在逻辑树中，对注入令牌的搜索从哪里开始以及在哪里结束。
为此，请将可见性配置放在注入点，即调用 <code>inject()</code> 时，而不是在对象声明点。</p>
<p>要更改注入器开始查找 <code>FlowerService</code> 的位置，请将 <code>skipSelf</code> 添加到 <code>&lt;app-child&gt;</code> 的 <code>inject()</code> 调用中，在该调用中注入了 <code>FlowerService</code>。
此调用是 <code>&lt;app-child&gt;</code> 的属性初始化器，如 <code>child.component.ts</code> 中所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">flower </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService, { skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span></code></pre>
  </div><p>使用 <code>skipSelf</code>，<code>&lt;app-child&gt;</code> 注入器不会在自身中查找 <code>FlowerService</code>。
相反，注入器开始在 <code>&lt;app-root&gt;</code> 的 <code>ElementInjector</code> 中查找 <code>FlowerService</code>，但一无所获。
然后，它返回到 <code>&lt;app-child&gt;</code> 的 <code>ModuleInjector</code> 并找到红色芙蓉花 <code><span class="docs-emoji">🌺</span></code> 值，该值可用，因为 <code>&lt;app-child&gt;</code> 和 <code>&lt;app-root&gt;</code> 共享同一个 <code>ModuleInjector</code>。
UI 渲染以下内容：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌺</span></span></code></pre>
  </div><p>在逻辑树中，相同的概念可能看起来像这样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @Provide(FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"🌻"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Inject(FlowerService, SkipSelf)=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        &lt;!-- With SkipSelf, the injector looks to the next injector up the tree (app-root) --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>尽管 <code>&lt;app-child&gt;</code> 提供了向日葵 <code><span class="docs-emoji">🌻</span></code>，但应用渲染的是红色芙蓉花 <code><span class="docs-emoji">🌺</span></code>，因为 <code>skipSelf</code> 导致当前注入器 (<code>app-child</code>) 跳过自身并查找其父级。</p>
<p>如果现在添加 <code>host</code>（除了 <code>skipSelf</code> 之外），结果将为 <code>null</code>。
这是因为 <code>host</code> 将搜索的上限限制为 <code>app-child</code> 的 <code>&lt;#VIEW&gt;</code>。
以下是逻辑树中的概念：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- end search here with null--&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @Provide(FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"🌻"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- start search here --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW inject(FlowerService, {skipSelf: true, host: true, optional:true})=&gt;null&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>这里，服务及其值是相同的，但是 <code>host</code> 阻止注入器在 <code>&lt;#VIEW&gt;</code> 之外进一步查找 <code>FlowerService</code>，因此它找不到并返回 <code>null</code>。</p>

  <h3 id="skipself-and-viewproviders">
    <a href="#skipself-and-viewproviders" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipSelf</code> and <code>viewProviders</code>"><code>skipSelf</code> 和 <code>viewProviders</code></a>
  </h3>
  <p>请记住，<code>&lt;app-child&gt;</code> 在 <code>viewProviders</code> 数组中提供了 <code>AnimalService</code>，其值为小狗 <code><span class="docs-emoji">🐶</span></code>。
由于注入器只需要查看 <code>&lt;app-child&gt;</code> 的 <code>ElementInjector</code> 以查找 <code>AnimalService</code>，因此它永远不会看到鲸鱼 <code><span class="docs-emoji">🐳</span></code>。</p>
<p>与 <code>FlowerService</code> 示例中一样，如果将 <code>skipSelf</code> 添加到 <code>AnimalService</code> 的 <code>inject()</code> 中，则注入器将不会在当前 <code>&lt;app-child&gt;</code> 的 <code>ElementInjector</code> 中查找 <code>AnimalService</code>。
相反，注入器将从 <code>&lt;app-root&gt;</code> 的 <code>ElementInjector</code> 开始。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  …</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    { provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🐶'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
  </div><p>在 <code>&lt;app-child&gt;</code> 中使用 <code>skipSelf</code> 时，逻辑树看起来像这样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">          @<a href="/api/core/Inject">Inject</a>(AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- search begins here --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">             @<a href="/api/core/Inject">Inject</a>(AnimalService, SkipSelf=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        &lt;!--Add skipSelf --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>在 <code>&lt;app-child&gt;</code> 中使用 <code>skipSelf</code> 时，注入器开始在 <code>&lt;app-root&gt;</code> 的 <code>ElementInjector</code> 中搜索 <code>AnimalService</code>，并找到鲸鱼 <code><span class="docs-emoji">🐳</span></code>。</p>

  <h3 id="host-and-viewproviders">
    <a href="#host-and-viewproviders" class="docs-anchor" tabindex="-1" aria-label="Link to <code>host</code> and <code>viewProviders</code>"><code>host</code> 和 <code>viewProviders</code></a>
  </h3>
  <p>如果你只使用 <code>host</code> 来注入 <code>AnimalService</code>，结果是小狗 <code><span class="docs-emoji">🐶</span></code>，因为注入器在 <code>&lt;app-child&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 本身中找到了 <code>AnimalService</code>。
<code>ChildComponent</code> 配置了 <code>viewProviders</code>，以便将小狗表情符号作为 <code>AnimalService</code> 值提供。
你还可以看到 <code>host</code> 的 <code>inject()</code>：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  …</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    { provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🐶'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  ]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService, { host: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p><code>host: true</code> 导致注入器一直查找，直到遇到 <code>&lt;#VIEW&gt;</code> 的边缘。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">          @<a href="/api/core/Inject">Inject</a>(AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">             inject(AnimalService, {host: true}=&gt;"🐶")&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- host stops search here --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>将第三种动物刺猬 <code><span class="docs-emoji">🦔</span></code> 添加到 <code>app.component.ts</code> 的 <a href="/api/core/Component"><code>@Component()</code></a> 元数据中的 <code>viewProviders</code> 数组：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-root'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./app.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./app.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    { provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🦔'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
  </div><p>接下来，将 <code>skipSelf</code> 与 <code>host</code> 一起添加到 <code>child.component.ts</code> 中 <code>AnimalService</code> 注入的 <code>inject()</code> 中。
以下是 <code>animal</code> 属性初始化中的 <code>host</code> 和 <code>skipSelf</code>：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService, { host: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> });</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><!-- TODO: This requires a rework. It seems not well explained what `viewProviders`/`injectors` is here
  and how `host` works.
 -->

<p>当 <code>host</code> 和 <code>skipSelf</code> 应用于 <code>providers</code> 数组中的 <code>FlowerService</code> 时，结果为 <code>null</code>，因为 <code>skipSelf</code> 在 <code>&lt;app-child&gt;</code> 注入器中开始搜索，但 <code>host</code> 在 <code>&lt;#VIEW&gt;</code> 处停止搜索——那里没有 <code>FlowerService</code>。
在逻辑树中，你可以看到 <code>FlowerService</code> 在 <code>&lt;app-child&gt;</code> 中是可见的，而不是在其 <code>&lt;#VIEW&gt;</code> 中。</p>
<p>但是，在 <code>AppComponent</code> 的 <code>viewProviders</code> 数组中提供的 <code>AnimalService</code> 是可见的。</p>
<p>逻辑树表示显示了原因：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🦔")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">         @<a href="/api/core/Inject">Inject</a>(AnimalService, @Optional)=&gt;"🦔"&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    &lt;!-- ^^skipSelf starts here,  host stops here^^ --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">             inject(AnimalService, {skipSelf:true, host: true, optional: true})=&gt;"🦔"&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">               &lt;!-- Add skipSelf ^^--&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p><code>skipSelf</code> 导致注入器在 <code>&lt;app-root&gt;</code> 而不是请求发起的 <code>&lt;app-child&gt;</code> 处开始搜索 <code>AnimalService</code>，而 <code>host</code> 会在 <code>&lt;app-root&gt;</code> <code>&lt;#VIEW&gt;</code> 处停止搜索。
由于 <code>AnimalService</code> 是通过 <code>viewProviders</code> 数组提供的，因此注入器在 <code>&lt;#VIEW&gt;</code> 中找到了 hedgehog <code><span class="docs-emoji">🦔</span></code>。</p>

  <h2 id="example-elementinjector-use-cases">
    <a href="#example-elementinjector-use-cases" class="docs-anchor" tabindex="-1" aria-label="Link to Example: <code>ElementInjector</code> use cases">范例：<code>ElementInjector</code> 用例</a>
  </h2>
  <p>在不同级别配置一个或多个提供者的能力开辟了有用的可能性。</p>

  <h3 id="scenario-service-isolation">
    <a href="#scenario-service-isolation" class="docs-anchor" tabindex="-1" aria-label="Link to Scenario: service isolation">场景：服务隔离</a>
  </h3>
  <p>架构方面的原因可能会导致你限制对服务的访问，使其只能在它所属的应用域内访问。
例如，假设我们构建了一个 <code>VillainsListComponent</code>，用于显示恶棍列表。
它从 <code>VillainsService</code> 获取这些恶棍。</p>
<p>如果在根 <code>AppModule</code> 中提供 <code>VillainsService</code>，它将使 <code>VillainsService</code> 在应用的任何地方都可见。
如果你稍后修改 <code>VillainsService</code>，你可能会破坏其他组件中的某些内容，这些组件可能在不经意间开始依赖此服务。</p>
<p>相反，你应该像这样在 <code>VillainsListComponent</code> 的 <code>providers</code> 元数据中提供 <code>VillainsService</code>：</p>
<div class="docs-code" header="src/app/villains-list.component.ts (metadata)">
    <div class="docs-code-header"><h3>src/app/villains-list.component.ts (元数据)</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-villains-list'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./villains-list.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [VillainsService]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> VillainsListComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
  </div><p>通过在 <code>VillainsListComponent</code> 元数据中提供 <code>VillainsService</code> 且不在其他任何地方提供，该服务仅在 <code>VillainsListComponent</code> 及其子组件树中可用。</p>
<p><code>VillainService</code> 相对于 <code>VillainsListComponent</code> 是单例的，因为正是在那里声明的。
只要 <code>VillainsListComponent</code> 没有被销毁，它将是 <code>VillainService</code> 的同一个实例，但是如果存在 <code>VillainsListComponent</code> 的多个实例，则 <code>VillainsListComponent</code> 的每个实例都将拥有自己的 <code>VillainService</code> 实例。</p>

  <h3 id="scenario-multiple-edit-sessions">
    <a href="#scenario-multiple-edit-sessions" class="docs-anchor" tabindex="-1" aria-label="Link to Scenario: multiple edit sessions">场景：多个编辑会话</a>
  </h3>
  <p>许多应用允许用户同时处理多个打开的任务。
例如，在税务准备应用中，准备人员可以处理多个纳税申报表，并在一天中在它们之间切换。</p>
<p>为了演示该场景，请想象一个 <code>HeroListComponent</code>，它显示超级英雄的列表。</p>
<p>要打开英雄的纳税申报表，准备人员单击英雄姓名，这将打开一个组件来编辑该申报表。
每个选定的英雄纳税申报表都在其自己的组件中打开，并且可以同时打开多个申报表。</p>
<p>每个纳税申报表组件都具有以下特征：</p>

  <ul class="docs-list">
    <li>是其自己的纳税申报表编辑会话</li>
<li>可以更改纳税申报表，而不会影响另一个组件中的申报表</li>
<li>能够保存对其纳税申报表的更改或取消它们</li>

  </ul>
  <p>假设 <code>HeroTaxReturnComponent</code> 具有管理和恢复更改的逻辑。
对于英雄纳税申报表来说，这将是一项简单的任务。
但在现实世界中，对于具有丰富纳税申报表数据模型的应用，变更管理将非常棘手。
你可以将该管理委托给辅助服务，如本例所示。</p>
<p><code>HeroTaxReturnService</code> 缓存单个 <code>HeroTaxReturn</code>，跟踪对该申报表的更改，并且可以保存或恢复它。
它还委托给应用范围内的单例 <code>HeroService</code>，它通过依赖注入获得该服务。</p>
<div class="docs-code" header="src/app/hero-tax-return.service.ts">
    <div class="docs-code-header"><h3>src/app/hero-tax-return.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Injectable">Injectable</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroTaxReturn } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './hero'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroesService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './heroes.service'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturnService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> currentTaxReturn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">!:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> originalTaxReturn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">!:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> heroService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(HeroesService);</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  set</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">htr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.originalTaxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> htr;</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> htr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">clone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  get</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  restoreTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.taxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.originalTaxReturn;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  saveTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.taxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn;</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">saveTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>这是使用 <code>HeroTaxReturnService</code> 的 <code>HeroTaxReturnComponent</code>。</p>
<div class="docs-code" header="src/app/hero-tax-return.component.ts">
    <div class="docs-code-header"><h3>src/app/hero-tax-return.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Component">Component</a>, EventEmitter, input, output } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroTaxReturn } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './hero'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroTaxReturnService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './hero-tax-return.service'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-hero-tax-return'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./hero-tax-return.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./hero-tax-return.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [ HeroTaxReturnService ]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturnComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ''</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  close</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/output">output</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;();</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  get</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.taxReturn;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  taxReturn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> <a href="/api/core/input">input</a>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">required</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;();</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    <a href="/api/core/effect">effect</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.taxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    })</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> heroTaxReturnService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(HeroTaxReturnService);</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  onCanceled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()  {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">flashMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'Canceled'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">restoreTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  onClose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.close.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(); }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  onSaved</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">flashMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'Saved'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">saveTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  flashMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">msg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> msg;</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ''</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p><em>待编辑的报税表</em>通过 <a href="/api/core/input"><code>input</code></a> 属性传入，该属性通过 getter 和 setter 实现。
setter 使用传入的报税表初始化组件自身的 <code>HeroTaxReturnService</code> 实例。
getter 始终返回该服务所说的英雄的当前状态。
组件还要求服务保存和恢复此报税表。</p>
<p>如果该服务是应用范围内的单例，这将不起作用。
每个组件都将共享同一个服务实例，并且每个组件都将覆盖属于另一个英雄的纳税申报表。</p>
<p>为了防止这种情况，请配置 <code>HeroTaxReturnComponent</code> 的组件级注入器以提供该服务，方法是在组件元数据中使用 <code>providers</code> 属性。</p>
<div class="docs-code" header="src/app/hero-tax-return.component.ts (providers)">
    <div class="docs-code-header"><h3>src/app/hero-tax-return.component.ts (提供者)</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [HeroTaxReturnService]</span></span></code></pre>
  </div><p><code>HeroTaxReturnComponent</code> 组件有自己的 <code>HeroTaxReturnService</code> 提供者。
回想一下，每个组件<em>实例</em>都有自己的注入器。
在组件级别提供此服务可确保组件的<em>每个</em>实例都获得该服务的私有实例。这样可以确保不会覆盖任何纳税申报表。</p>

    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 场景代码的其余部分依赖于其他 Angular 特性和技术，你可以在文档的其他地方了解它们。</p>

    </div>
    
  <h3 id="scenario-specialized-providers">
    <a href="#scenario-specialized-providers" class="docs-anchor" tabindex="-1" aria-label="Link to Scenario: specialized providers">场景：专用提供者</a>
  </h3>
  <p>在另一个级别再次提供服务的另一个原因是，为了在组件树的更深层替换该服务的<em>更专用</em>实现。</p>
<p>例如，考虑一个 <code>Car</code> 组件，它包含轮胎服务信息，并依赖于其他服务来提供关于汽车的更多详情。</p>
<p>根注入器（标记为 A）对关于 <code>CarService</code> 和 <code>EngineService</code> 的详情使用了<em>通用</em>提供者。</p>

    <ol class="docs-ordered-list">
      <li><p><code>Car</code> 组件 (A)。组件 (A) 显示关于汽车的轮胎服务数据，并指定通用服务以提供关于汽车的更多信息。</p>
</li>
<li><p>子组件 (B)。组件 (B) 为 <code>CarService</code> 和 <code>EngineService</code> 定义了自己的<em>专用</em>提供者，这些提供者具有适用于组件 (B) 中正在发生的事情的特殊功能。</p>
</li>
<li><p>子组件 (C) 作为组件 (B) 的子组件。组件 (C) 为 <code>CarService</code> 定义了它自己的，甚至<em>更专用</em>的提供者。</p>
</li>

    </ol>
    <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 316.890625 240" style="max-width: 316.890625px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-generated-diagram .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-generated-diagram .noShadow>*{filter:none!important;}#mermaid-generated-diagram .noShadow span{filter:none!important;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="COMPONENT_A" class="cluster noShadow"><rect height="224" width="300.890625" y="8" x="8" style="filter:none !important;fill:#BDD7EE !important"></rect><g transform="translate(111.0078125, 8)" class="cluster-label"><foreignObject height="24" width="94.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Component A</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(37.5, 35)" class="root"><g class="clusters"><g data-look="classic" id="COMPONENT_B" class="cluster noShadow"><rect height="154" width="225.890625" y="8" x="8" style="filter:none !important;fill:#FFE699 !important"></rect><g transform="translate(73.2578125, 8)" class="cluster-label"><foreignObject height="24" width="95.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Component B</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(120.9453125, 85)" id="flowchart-COMPONENT_C-0" class="node default noShadow"><rect height="54" width="155.890625" y="-27" x="-77.9453125" style="filter:none !important;fill:#A9D18E !important" class="basic label-container"></rect><g transform="translate(-47.9453125, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="95.890625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>Component C</p></span></div></foreignObject></g></g></g></g></g></g></g></g></g></svg><p>在幕后，每个组件都建立了自己的注入器，其中包含为该组件自身定义的零个、一个或多个提供者。</p>
<p>当你在最深层的组件 (C) 中求解 <code>Car</code> 的实例时，它的注入器会产生：</p>

  <ul class="docs-list">
    <li>由注入器 (C) 求解的 <code>Car</code> 实例</li>
<li>由注入器 (B) 求解的 <code>Engine</code></li>
<li>它的 <code>Tires</code> 由根注入器 (A) 求解。</li>

  </ul>
  <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 585.09375 580" style="max-width: 585.09375px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-generated-diagram .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="C" class="cluster noShadow"><rect height="104" width="443.796875" y="364" x="12.7890625" style=""></rect><g transform="translate(234.6875, 364)" class="cluster-label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g data-look="classic" id="B" class="cluster noShadow"><rect height="128" width="569.09375" y="186" x="8" style=""></rect><g transform="translate(292.546875, 186)" class="cluster-label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g data-look="classic" id="A" class="cluster noShadow"><rect height="128" width="555.046875" y="8" x="15.0234375" style=""></rect><g transform="translate(292.546875, 8)" class="cluster-label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_car_ChildInjector_0" d="M137.547,518L137.547,513.833C137.547,509.667,137.547,501.333,137.547,493C137.547,484.667,137.547,476.333,137.547,468.667C137.547,461,137.547,454,137.547,450.5L137.547,447"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ChildInjector_ParentInjector_0" d="M137.547,389L137.547,384.833C137.547,380.667,137.547,372.333,137.547,364C137.547,355.667,137.547,347.333,137.547,339C137.547,330.667,137.547,322.333,137.547,312.667C137.547,303,137.547,292,137.547,286.5L137.547,281"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ParentInjector_RootInjector_0" d="M137.547,223L137.547,216.833C137.547,210.667,137.547,198.333,137.547,188C137.547,177.667,137.547,169.333,137.547,161C137.547,152.667,137.547,144.333,137.547,134.667C137.547,125,137.547,114,137.547,108.5L137.547,103"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(137.546875, 72)" id="flowchart-RootInjector-0" class="node default noShadow"><rect height="54" width="175.046875" y="-27" x="-87.5234375" style="fill:#BDD7EE !important" class="basic label-container"></rect><g transform="translate(-57.5234375, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="115.046875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(A) RootInjector</p></span></div></foreignObject></g></g><g transform="translate(405.0703125, 72)" id="flowchart-ServicesA-1" class="node default noShadow"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CarService, EngineService, TiresService</p></span></div></foreignObject></g></g><g transform="translate(137.546875, 250)" id="flowchart-ParentInjector-2" class="node default noShadow"><rect height="54" width="189.09375" y="-27" x="-94.546875" style="fill:#FFE699 !important" class="basic label-container"></rect><g transform="translate(-64.546875, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="129.09375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(B) ParentInjector</p></span></div></foreignObject></g></g><g transform="translate(412.09375, 250)" id="flowchart-ServicesB-3" class="node default noShadow"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CarService2, EngineService2</p></span></div></foreignObject></g></g><g transform="translate(137.546875, 416)" id="flowchart-ChildInjector-4" class="node default noShadow"><rect height="54" width="179.515625" y="-27" x="-89.7578125" style="fill:#A9D18E !important" class="basic label-container"></rect><g transform="translate(-59.7578125, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="119.515625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(C) ChildInjector</p></span></div></foreignObject></g></g><g transform="translate(349.4453125, 416)" id="flowchart-ServicesC-5" class="node default noShadow"><rect height="54" width="144.28125" y="-27" x="-72.140625" style="" class="basic label-container"></rect><g transform="translate(-42.140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="84.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CarService3</p></span></div></foreignObject></g></g><g transform="translate(137.546875, 545)" id="flowchart-car-6" class="node default noShadow"><rect height="54" width="110.34375" y="-27" x="-55.171875" style="fill:#A9D18E !important" class="basic label-container"></rect><g transform="translate(-25.171875, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="50.34375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(C) Car</p></span></div></foreignObject></g></g><g transform="translate(309.21875, 545)" id="flowchart-engine-7" class="node default noShadow"><rect height="54" width="133" y="-27" x="-66.5" style="fill:#FFE699 !important" class="basic label-container"></rect><g transform="translate(-36.5, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="73"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(B) Engine</p></span></div></foreignObject></g></g><g transform="translate(485.8828125, 545)" id="flowchart-tires-8" class="node default noShadow"><rect height="54" width="120.328125" y="-27" x="-60.1640625" style="fill:#BDD7EE !important" class="basic label-container"></rect><g transform="translate(-30.1640625, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="60.328125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(A) Tires</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h2 id="more-on-dependency-injection">
    <a href="#more-on-dependency-injection" class="docs-anchor" tabindex="-1" aria-label="Link to More on dependency injection">更多关于依赖注入的内容</a>
  </h2>
  
    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="/guide/di/dependency-injection-providers">DI 提供者</a>
    

    </nav>
    